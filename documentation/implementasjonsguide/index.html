<!DOCTYPE html><html><head><meta charSet="utf-8"/><meta http-equiv="x-ua-compatible" content="ie=edge"/><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"/><style data-href="/mva-meldingen/styles.c2a4da57287b4953961e.css">.header-module--main-header--B1ZQz:after{display:block;content:"";width:100%;height:12px;background-color:#fff;background-repeat:no-repeat;background-position:50%;background-size:cover;background-image:url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAB9AAAAAUCAYAAADV5qZVAAAABGdBTUEAALGPC/xhBQAAE9JJREFUeAHtnbtyI8mVhlEXAGS35hKKkCFTilgZijXWXkcy9AzzCjLXWr9lSZ58PYLa3H2A8WSNs0Zba6y3ir2MNJoLmySqSv9/TmaxgCbZTQynm5z+MBxkVmaek6c+gE2g/pNZzb/+06+GFQ8IQAACEIAABCAAAQhAAAIQgAAE3imBjz7+Ad/P3+krwOQQgAAEIAABCEAAAhCAAAS+xwSm1eqLL7/qmqZZ+b/4aZpJh4vj1apV22o5RkiKzdS0aWubGNOswl5WPkyf8ta2q0k9q/3x7m4nuagD06/nkp8Sj4ts11i5tefwm0UbvtNFnEWMbVuNne3SvZ1enUt0rrpwbnedfPs0syEKt8rP6elm7C92l5qaBwQgAAEIQAACEIAABCAAAQhAAALvksD//t9f+H7+Ll8A5oYABCAAAQhAAAIQgAAEHiyBEDqldVYxNQRdqZ4hf1r9rPVUZ0MYdW+jb1lRxpgr+yKuxvlWXz5ol/b2adeeZa+uccVf2HpEHWeBudZLmf7twp6icZ7Hg+dzcq/n189em+3cnE/uznGO120+jjGLcfZlG4/2jw6enG5X2+0mxvN0O4H+9m56IQABCEAAAhCAAAQgAAEIQAACEIAABCAAAQhAAAIQgAAEIPB+EJgFyRBCU5xMsXRZT2EyRMulQCtEKXJmGf2lrQqZVXi1uhki6dJeU1ThtI6zXfiUn2grAm/U7dtxxpgyZ6iliziKfRVTQ6CtvlTK6b4IW+zr/DWePJcIsMSoug/TsWeJONUU5dOnp6u+7zwDDwg8OgII6I/uJSNgCEAAAhCAAAQgAAEIQAACEIAABCAAAQhAAAIQgAAEHjMBi4wWLmfh0zULoxYk/RQ/KUhGm0XK0n6jcLonZHqCtI9mPe2JsO6N+V05GFfnKWUVaH2YsTkW1Uu8sk7h1DHbV7WLdg/MtoijjPWQfeFV44ptjHPdFZt7Hj3Cd23LQWpUv55+8MGT9BcjeYIABCDw7QggoH87flhDAAIQgAAEIAABCEAAAhCAAAQgAAEIQAACEIAABB4sgRQ0i/hYhMgqwIZgGUJl6bcaaUEyxElXi4hZREoLoX5U+ypoppaZImm4KD73BFH7umGl7RyHfFefMc9SOLVj2efcqteYXI35PH+p2053w71ZIC7jbKGfer5zvI6z3Ls34qg8VJ6cbFebNdKKufCAAAQg8H0lwL/y39dXlvOCAAQgAAEIQAACEIAABCAAAQhAAAIQgAAEIPCWCFThMoVQa5IpTNaVq6k/qtUVPerKVY88FGNnQVPjwj6EzOoz/VbB0/OEeOqx8h3z5JPdhP0spLp/Hlf8uMWNegqfS4FXrYcrX6t9TqT+Yp8xyP9sb4/2vYwp25Zxuu5HZaDKns8npyerrpNTHhCAAAQgAAEIvDUCCOhvDTUTQQACEIAABCAAAQhAAAIQgAAEIAABCEAAAt+WQAiO0hz3hMuFMBqCpSax8OrHq8KmRc0re4+v4mUKm2n3inAaZn4qgmgRTmchN2JY9Gl+NRURNcv0bxfqq/YlzoijtEWv2/Uzn6ct6tzhODzM53l4DjlEDsIu5w/34cO+sq1ysr3vV8sDAhCAAAQgAAEIvO8EENDf93cA5w8BCEAAAhCAAAQgAAEIQAACEIAABCBwLYFZkAwh1EJkWSVq5XGuFxHSouS88jT7LXbuCZay2RNOS/8snC7tZVqF01mgLQLqPHcRXvfirGKp44nJc86sWjT1/yXmA/tY+erOG+Ks8cznoHizLc/zME57yvmy3/Xq+2S7WfV9F8c8QQACEIAABCAAAQhA4CERQEB/SK8GsUAAAhCAAAQgAAEIQAACEIAABCDw3hEISdECrf8LnVGlhU39zIJl9JW2ECGXdQ1d2qs/hMoYkj5DLo32haAp0vvCqxqKraeYRVLV5zjKPFexqdN+SryaLe0O7LPdA6PmaTwyxoavbChtGuc4or/E4X6bex49ZlHWbWEbDq/irPZFkD453c7nGg54ggAEIAABCEAAAhCAAAQgcAMBBPQbwNAMAQhAAAIQgAAEIAABCEAAAhD4vhFIQbSIj0WIrAJqCJYWHa1DFvHxVWFzIVIe2FdB89A+20Wy+Ix+C6M3rLSd4wgTx5OC6Z5wGoEV4dR1/cwCr+eJuRbnOakewm2JI8aU/jpP9eP5PGX4KHHGvXfdWMXaYuuxta3aa57Tk2208wQBCEAAAhCAAAQgAAEIQAACj48AAvrje82IGAIQgAAEIAABCEAAAhCAwIMmIElxsvhoFbJtXO30FHqkiiqIuvQI/d81lidd1XP2XwmgamstjU5NCKAaaaVUozxY/y8ETR1c2aVHH5fRIaAqshRS00OOr37CZ0SRK1WXAq+a9wTchf0cR7HPGDT/bO8wSxxR+CnbYmxpi1g9j+PxQ0Lsnihc/Odq27TfbNerTnx4QAACEIAABCAAAQhAAAIQgAAEIHA/BBDQ74cjXiAAAQhAAAIQgAAEIACBd0GgaQZptaO01WHVTKO0WpWNjie1N6O01qGZJpXqVyn9UWUzNs00SNEdJVPu2U+yl4g5TsVeOuagusYv7GWnOdN/zLecv404ol/z1PkmzScheRyn7FdMOf8yXsffqF/z6USGdlQcreZX6Xjz/NpBvtTtY7WP6lc5tjoe1d7K3qX86Kx17HHyFOPbcRinoW9HlZ3sZKbjqW3HtlO568a21/jdoOP1sOqG8XIYh23Xjxe7cZj69fjPP/3wfz55/lzn/jAf0x//2P3Xixfr/5f0vH76tOm//rr5UvX+5KTpXr5szlTvNpumu7hozl2/WDft5rJ5qbJvRGK9a84v+0ZflKN+seui3vRDc6m67tQrwqp3qmt8M4zNrpOcrdJ9tW7deye1XaitoUdduHPMqPF6STxGZqr7FdSPxl1bdw6C8gv8E2P8blaLXnq9peQl3h5OU7DW7rfKNXW/JWSk34d2pTj0PklfpV2/QmHvMbXuLIP8lZKNfDrImGNZd2jy6pD0u2SD6+uT2jXEY/T+9qlkXb+MTq9wcoTeUSahqp5dd+GRt9XDbmG/9GVnsg+/r61rpObJOEpdAdhdtC/qEV9pr3X9vpdxGXPa3KUuh5p/j43mjLBf1x6pGA/z95GoIAABCEAAAhCAAAQgAAEIPFYCzb/84y/03Y4HBCAAAQhAAAIQgAAEIHALAesYVwKsVCoLrGpTacF2KaBakJU2ZcFTmlEKqEXAtdAbgq2VKAmWqUjt2evDuQRfa1BpL1VFQqvUrZXmD3sJpC6LgOr5pVqF4FqFU/XN84d9zCN/shul2bmc518KygsBVgPCr/1nnLK3mjZKmG2zjOMQbptxkNDbS/IdfGzV0AKtyhBopRamUCuBdnD/MO76XoKthFoLtpe9Sgu0/djvxKW/HJ+OH/zt2Wf/9s0trwldEIAABCBwDQEnkvznn//c959/3rxJMsk355tm4wSSI5NJGiWVdE4aOTKZRH9X/Efx+gQSJzbUJJMbkkn0t8+pEjcnkDh9oyaW6M/XYTKJk0psv0wgWdZfl0yiTCdnQNycQJJ/1CNJQn97X00miQQNJY0sE0DsUe23JpC4W77zZ/R+FzbKpJFlXUM8SG+VSEx5pW4X5hxjSr0kp2QyiGztwWMi1qxHfDFlSSBx/ZhkEscn3z6XZHC3ZJKZE8kk1/xrQBMEIAABCEAAAhCAwLEEWIF+LDnsIAABCEAAAhCAwHdAQBcQdRk4V8jqQmJZKVsE1LLCVtsPS8g8EHAtqBaBV1chi3Arewu5ZYWtrnlK8JWQW+xnAdX9IbimQOz5dQ0zBVwvZ1R/rNQNwdbCrQRYC6mKTz4jXq+UteBqP7roXARhHReBeGnvFbi6Ahv+bR/xyt4rZXXpNARa+1egQ+f1m1Vo1nLL8CehVhe7NV4Crco27OrK2ixDwJWca6G2CredhNpJQm23llB7uRsv1tvhyfluPN8Ow89WP/vi15/94fI7eElxCQEIQAACEHirBJpPPtHff/2t5AGB95jA9OxZ+2K16jc//GFzWzLJV9tts5km7Uhy0RyTTNJqh5LufNV6Z5JjkkkigcTJCfowfUwySSSQhL0+UfvT9R2TSSKnMuy1CccRySSRQGJ7fZQ/KpnESRmyzzwP1RX/nZJJSgKIEzDy547JJMXexsr/uHMyiRM4MgFF/Jf1N00m0ZxzAsmyri890W6fqt5U95zuC9NaJ5nkPf6Xj1OHAAQgAIH7JMAK9PukiS8IQAACEIDA4yHg6xLSOyUoWiANwfVKgNXlgyK8pgCrqwIpbB4KuNrCWN/oQ0C1cCqfRUDdt0/B18JtEXBDsPW8KcDm/GXFrq/iSPX0itvYQrkKsCVeC6taCVS2KE57x+urNhZaQ9gtAq8uIs0Crs9XfRGflNeh00pbb3msiw3ioHhdVoE2BNtJwmuuoI1x3kxZWxxrphB6V4OuMHVFoNWK2qnrRi2mHTZaRruL493YrjfDpH2P+40E2/PNuD4ZhunsZPztf/z7X3UZRNdaeEAAAhCAAAQgAAEIQAACEIAABO6fgL5PN6vf/KZTMkl7XTLJX05PmxMnkOg2N8ckk0QCiXz7NjfHJJP4ljK68KBtSEoCiet3SCbxDiVxexvnETiBJOxL/Q2SSTzXqJTr5a4jjulNk0leSSDx/L6s8KY7k5SkB529rg7otZK9kyFyt483SCbRYJ/znECyrCsj57U7kxR7edlPIFm260JJcL1mZxIncDhmDdlPIFF72Lj9tmQSn2yJ2SiurYfz63cmuTaBpMRiX4pBBQ8IQAACxxNgBfrx7LCEAAQgAIE3IKBPqxZVpWv6nrIpoHrr4HpPWLXFClZ9Ur5aARvC6eIetEXg1Efw3MI4hFqPr4JoEXDtt2xxrE/rIYjqA3Up81iibLkXrgTYWCm7EFBjpa7Gy4+2eZRdroD1NyB9LShxql/Cawi4jufAfwi4C3t9ZNd4C8Wa32W5l60FWd071WtnYyvkusVx+isCbVlha6F2kHDb6960Un1DqPUWyJPuTdvtJNB2O8m8+tqnZbXa9XiY1pvx5YnKs/Px43/40TfPnj+/eIOXiiFvkcDv/NWQBwQgAAEIQAACEIAABCAAAQhA4DsiIC1RGuJq9x25xy0EHg0B395m9eJFs0wm+e8PP2yeDkPbf/11c0wySbfeNZ2E+ouaQKL6XZJJGt36xgkkvvvZMckkcwKJMzCOSCaJZA/N79vcHJNMoguckfTgS6NHJZN4fw3Nrwuu+peq1FWNBBK1uznqN+1M4m7dn+7aBBLZz+03JZNogkz0uCWBZDnmIJnkMIFEvwx3SybxCZY4b0wgWY45SCZ5bQKJ3ReuJJMc/08VK9CPZ4clBCDw0Ah45asF1LJCdk9AlTBqAVR/eP13uQi1KcDqz2WuwI1tDq/sU/CVnQXSskJXdX8subKfBVePs0B7ZV8FWMVUhN6cTyJwbF2sDxcxXjGVrZFtL0E4BFnPkwKvFFqvd9VwCbghxMqfP53IPgTlIuB65azOLVbUWuDVh6+yQlfj4th28hTj61bHEma9wtZmWqmrOx+OrYTaSUJt3JPW96bt1hJmh/FSAu2260ctptW9aS3Uatz6YlxfPB2mzfl4+sFuWP3yl988e/bM20XzgAAEIAABCEAAAhCAAAQgAAEIQAACEIAABCAAAQhA4B0T8O1tVj//eeNkks9+/OPmo/Pz1re5OSaZpN1cNlqd3Z5f9s0xySROIIkdRAZJIEckk8xJI8sEkmVdIsltO5PsJZDEhqTXJ5MgoL/jNy3TP0oCzv3ZE1AtsKrtGgFVgqgFVgmguVLWAmoRcGOlbPaHgOrf2gMBVtlBV/eglcKpX/vY0lg3hUqhWFscp2BsYTTn90pZC64hoBYBts4f9jGP+jW/krSinOf3CtmYR8LoQoC1v1iBq/gs0KYAayk3V866DEG3rLQdJPT2knwHHzuNrmyBXFfYplArgVYraH1v2l3fS7CVUKt70650b1rtfiyBth/7neLQctp+dzqsJNSeXQzDx9vT8auzYRiefjT+/k/Pzx7lO4igIQABCEAAAhCAAAQgAAEIQAACEIAABCAAAQhAAAIQgAAEHiQBtnB/kC9LBuVtj71idrlF8SygHt6DdingWpgtAq/Hz/axUtaCraTReg/assXxLKDGPWmv7HPFroRZC7Jegav+uFdurGD1StsinKpfPiNer5QNATdW6mZ/rqhNgXhp7xW42ick/Ns+4vUKWwmvsbK2CLMKWFsdS4lVGQJuvUethFrdl0bjtYLWGyGHXV1Zm2UIuJJzLdRW4baTUDtJqNVuxyp348V6Ozw5343n22EYN9txI6F2OnkyPnmp8/7gy1Grai9YVfuAf1kIDQIQgAAEIAABCEAAAhCAAAQgAAEIQAACEIAABCAAAQhAAAL3QMACuvRMC5sSFC2QhuC6L6DGClpvQez+WIHqrYO1Aja2KpaAKfu8p2wKqF5huyfghnCb9pot7GYBNwRbz6v5q4CqMlbMSujVLQ5ixW1soRxx7q+AjXvQeqXsUsDVOAutsSK2CLySoiPOeUtnC8KKU8qrbierMoTXPL/gUQXaEGwnCa8SaKXfxjhvpqwtjlcuvcJW96ZtuiLQxj1pu1GLaYeNltHu4ng3tmvdo1b7HvcbCbbnm3F9IoH27GSURjusTs/GL85/NPzk46/Gz8/Ohmeffsq9ae7hzX2vLj799F7d4QwCEIAABCAAAQhAAAIQgAAEIAABCEAAAhCAAAQgAAEIQAACEHh4BP4OVjj38gm60gMAAAAASUVORK5CYII=")}.header-module--main-header-content--2RY48{display:flex;padding:30px;max-width:1024px;margin:0 auto}.header-module--main-header-wrapper--34EUT{display:flex;justify-content:space-between}.header-module--main-header-button--2kQ00{position:relative;top:-4px}.header-module--main-header-button--2kQ00 button{width:100%;background:transparent;border:0;outline:none;flex:0 1}.header-module--main-header-button--2kQ00 i{font-size:34px;font-weight:700}.header-module--main-header--B1ZQz button:hover,button:active,button:focus{cursor:pointer}.header-module--main-header-nav--2CrOn{max-width:900px}.header-module--main-header-menu--2o9XB{display:flex;list-style-type:none;font-weight:700;padding-left:0;text-align:center}.header-module--main-header-logo--1fUV3 img{height:68px}.header-module--main-header-menu--2o9XB li{flex:1 1;margin-left:30px}.header-module--main-header-menu-active--3VvJT{padding-bottom:2px;border-bottom:4px solid #6f2c3f!important}.header-module--main-header-menu--2o9XB a{white-space:nowrap;color:#000;border:0;border-color:transparent;transition:border-color .5s}.header-module--main-header-menu--2o9XB a:hover,a:active,a:focus{border-bottom:4px solid #6f2c3f;outline:none;padding-bottom:2px;transition:border-color .5s}@media (min-width:1024px){.header-module--main-header--B1ZQz button{display:none}}@media (max-width:1023px){.header-module--main-header-nav-hidden--1rc-e{background:green;display:none}.header-module--main-header-nav--2CrOn{max-width:100%}.header-module--main-header-content--2RY48{flex-direction:column}.header-module--main-header-menu--2o9XB{flex-direction:column;margin:20px 0 0}.header-module--main-header-menu--2o9XB li{margin-left:0}.header-module--main-header-logo--1fUV3 img{height:40px}.header-module--main-header-menu--2o9XB li a{display:block;border-bottom:2px solid #eee;padding:.5rem 0}.header-module--main-header-menu--2o9XB a:hover,a:active,a:focus{padding:.5rem 0;border-bottom:2px solid #eee;text-decoration:none;background-color:#cde1f9}.header-module--main-header-menu-active--3VvJT{background-color:#cde1f9}}.footer-module--footer-link--3N1pB img{margin-right:16px}.footer-module--footer-link--3N1pB{display:flex;color:#fff;align-items:center;font-weight:700;border:0}.footer-module--footer-link--3N1pB:hover{text-decoration:underline}.footer-module--footer-link--3N1pB:active,.footer-module--footer-link--3N1pB:focus{border:0}.footer-module--footer-links--1p2zW h3{margin-top:0}@media (max-width:1000px){.footer-module--footer-links--1p2zW{margin-top:30px}.footer-module--logo--6xkB0 img{margin:0 auto}}code[class*=language-],pre[class*=language-]{color:#000;background:none;text-shadow:0 1px #fff;font-family:Consolas,Monaco,Andale Mono,Ubuntu Mono,monospace;font-size:1em;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;word-wrap:normal;line-height:1.5;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-hyphens:none;-ms-hyphens:none;hyphens:none}code[class*=language-]::selection,code[class*=language-] ::selection,pre[class*=language-]::selection,pre[class*=language-] ::selection{text-shadow:none;background:#b3d4fc}@media print{code[class*=language-],pre[class*=language-]{text-shadow:none}}pre[class*=language-]{padding:1em;margin:.5em 0;overflow:auto}:not(pre)>code[class*=language-]{padding:.1em;border-radius:.3em;white-space:normal}.token.cdata,.token.comment,.token.doctype,.token.prolog{color:#708090}.token.punctuation{color:#999}.token.namespace{opacity:.7}.token.boolean,.token.constant,.token.deleted,.token.number,.token.property,.token.symbol,.token.tag{color:#905}.token.attr-name,.token.builtin,.token.char,.token.inserted,.token.selector,.token.string{color:#690}.language-css .token.string,.style .token.string,.token.entity,.token.operator,.token.url{color:#9a6e3a;background:hsla(0,0%,100%,.5)}.token.atrule,.token.attr-value,.token.keyword{color:#07a}.token.class-name,.token.function{color:#dd4a68}.token.important,.token.regex,.token.variable{color:#e90}.token.bold,.token.important{font-weight:700}.token.italic{font-style:italic}.token.entity{cursor:help}html{font-family:Helvetica Neue,Helvetica,Arial,sans-serif;font-size:16px}body{margin:0;line-height:1.5;display:none}@media (min-width:900px){body{font-size:1.0625rem}}img{max-width:100%}.gatsby-highlight pre{max-width:min(992px,80vw);overflow-x:auto}a{color:#1362ae;text-decoration:none;padding-bottom:1px;border-bottom:2px solid rgba(19,98,174,.25)}a,a:focus,a:hover{transition:border-color .5s}a:focus,a:hover{outline:none;border-color:#1362ae}button::-moz-focus-inner{border:0}code{font-size:15px}:not(pre)>code[class*=language-],pre[class*=language-]{background:#f5f2f0}table{width:100%;margin-top:20px;border-collapse:collapse;padding-left:24px}tr{border-bottom:1px solid #bbb;height:56px;transition:background-color .3s ease;vertical-align:top;line-height:32px}tbody tr:nth-child(odd){background:rgba(249,237,226,.4)}thead tr{text-transform:capitalize;border-bottom:2px solid #bbb}td,th{font-size:17px;text-align:left;position:relative;padding:10px}td a{border:none}td:first-child,td:last-child,th:first-child,th:last-child{padding-left:16px}th{font-size:15px}a.anchor{border:none}.table-of-contents-module--toc--3ybUf ul{list-style-type:none}.table-of-contents-module--toc--3ybUf ul>li{position:relative;margin:5px 0}.table-of-contents-module--toc--3ybUf ul>li>a{display:block;border:0;outline:0;transition:none;font-size:.975rem;font-weight:700}.table-of-contents-module--toc--3ybUf ul li>a:active,.table-of-contents-module--toc--3ybUf ul li>a:focus,.table-of-contents-module--toc--3ybUf ul li>a:hover{font-weight:700;outline:0;transition:none;text-decoration:underline}.table-of-contents-module--toc--3ybUf ul li>i{font-weight:700;color:#0f68a3;font-size:15px;margin-right:5px}.table-of-contents-module--toc-level--xyWuY{display:flex}.table-of-contents-module--toc-level-2--1Dh4V{padding-left:15px}.table-of-contents-module--toc-level-3--hThrR,.table-of-contents-module--toc-level-4--1ZHxT,.table-of-contents-module--toc-level-5--3f81p,.table-of-contents-module--toc-level-6--2noAj{padding-left:30px}.documentation-template-module--breadcrumb--2gumJ{padding-top:15px}.documentation-template-module--breadcrumb--2gumJ a{border:none}.documentation-template-module--documentation-container--3aiYG img{max-width:100%;max-height:100%}</style><meta name="generator" content="Gatsby 2.24.52"/><title data-react-helmet="true">Mva-meldingen</title><link data-react-helmet="true" href="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAA/xpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuNi1jMTExIDc5LjE1ODMyNSwgMjAxNS8wOS8xMC0wMToxMDoyMCAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wTU09Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9tbS8iIHhtbG5zOnN0UmVmPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvc1R5cGUvUmVzb3VyY2VSZWYjIiB4bWxuczp4bXA9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC8iIHhtbG5zOmRjPSJodHRwOi8vcHVybC5vcmcvZGMvZWxlbWVudHMvMS4xLyIgeG1wTU06T3JpZ2luYWxEb2N1bWVudElEPSJ1dWlkOjVEMjA4OTI0OTNCRkRCMTE5MTRBODU5MEQzMTUwOEM4IiB4bXBNTTpEb2N1bWVudElEPSJ4bXAuZGlkOkE4RTkxRThBMUQ3QjExRTZCQ0ZFRkI2MTNBNjgyNUJCIiB4bXBNTTpJbnN0YW5jZUlEPSJ4bXAuaWlkOkE4RTkxRTg5MUQ3QjExRTZCQ0ZFRkI2MTNBNjgyNUJCIiB4bXA6Q3JlYXRvclRvb2w9IkFkb2JlIElsbHVzdHJhdG9yIENDIDIwMTUgKE1hY2ludG9zaCkiPiA8eG1wTU06RGVyaXZlZEZyb20gc3RSZWY6aW5zdGFuY2VJRD0idXVpZDowZWM3MjY1OC1hYTYwLTllNDUtOGZjNy1hYTIxMjQ1MzA5ODgiIHN0UmVmOmRvY3VtZW50SUQ9InhtcC5kaWQ6MjhmZjUyYWQtM2EyMC00MTc3LWJiZDItNjk5NmUyOWE1MzQ3Ii8+IDxkYzp0aXRsZT4gPHJkZjpBbHQ+IDxyZGY6bGkgeG1sOmxhbmc9IngtZGVmYXVsdCI+U3ltYl9TS0VfQ01ZSzwvcmRmOmxpPiA8L3JkZjpBbHQ+IDwvZGM6dGl0bGU+IDwvcmRmOkRlc2NyaXB0aW9uPiA8L3JkZjpSREY+IDwveDp4bXBtZXRhPiA8P3hwYWNrZXQgZW5kPSJyIj8+PBoJ2wAAAzZJREFUeNrsV0lPU1EU/t6jLWMDgpH2ARZaMFIJSQ2JRRkCbCxEE8YQNwQ2DvwBQwxLidGFmiDVP2CIUIclhoCRFTEaUTfYigllaqHUVqTQ4Xrvi6JIh4dCGhNOctrk9dxzvnfP/b5zy+k0+XMAlIiPeWX0Q0D8TMkzFHEE4OURZzsAEHcAsr9dqJDLsby8AqfbBTk4JKekIDU1FSn0m+M4EEL2F4Db8wX6Ej10ukKsrq5icWEBLtcKWF2/3w+e5/cXwILDgSvd3bjW27v1zD47i7qaWng8HmRkZOwNALadzHw+n/imaxu+XwXt9m2xfdf7YLVZkSvkSG6DLFrhBD4BS44luL96kZWeAYPBAMNJA4r1esgTE1FWVrYV397aisGhIeQcyRbbwUprNBoxTygU2h0A1r9AIADr5xkUaXW42tMDU0M9SktLwyZpa27BI8swGs+dx41bNzH1dgoD/f0YfTGO7KzDYjtYvrBGh5GHOvnphfkFJD83j70A6ezoIMtOJ4lkbrebtDW1iLHVlVWEtmnb73dv3yEyjiOZ6enkmFZHfq/zwz07ABQVaMWEly9eIrHsscUixp42Gol/czNsjGV4mMg5nhxVC2EB7OCK0+FE6YkS3DMPxDxAH969hyYvD6NjY5BRXQhnjU1N6Ozqgn1hXpoSute8qK2rlUSh6poavJyYQFJSUtS4s/UmsGMYjhU7DiEjnYsqnBSrqKyQFOdaWZE+CwRKoyfPnuLj9PSe6b15wIy05OQtTYkKIDUtDRsbG2gwmWCzWv+5+IX2drx68xqCSi1tB4LBIAo0+Zj5NIPyU0Y8MN8XVXC39nxkBGeM5Xg4OMiYhlAEVeRELoa5lMpkMjio3q96PSIrmpqbUVVdhePFxVCpVDu2001l2mazYXJyEpahYYxTZrCIAq1WVMIIsuyNCEDcHo6nC0NwOJ3wfFtDslwBQRCgVqtxKDMTiQoFAnTH2PBZWlzE3NycKNsKuk7IyYGcUjOaDMcE8OdsYGN2fX1d9E16ToI0OU+fs0JJ9JCxu4CCgtrFfcAreRyzhKwtSqVS9FixB3fCAwD/FQBlHOsrGQ3n4/n3/LsAAwC3vqT092HM6wAAAABJRU5ErkJggg==" rel="shortcut icon"/><style type="text/css">
    .anchor.before {
      position: absolute;
      top: 0;
      left: 0;
      transform: translateX(-100%);
      padding-right: 4px;
    }
    .anchor.after {
      display: inline-block;
      padding-left: 4px;
    }
    h1 .anchor svg,
    h2 .anchor svg,
    h3 .anchor svg,
    h4 .anchor svg,
    h5 .anchor svg,
    h6 .anchor svg {
      visibility: hidden;
    }
    h1:hover .anchor svg,
    h2:hover .anchor svg,
    h3:hover .anchor svg,
    h4:hover .anchor svg,
    h5:hover .anchor svg,
    h6:hover .anchor svg,
    h1 .anchor:focus svg,
    h2 .anchor:focus svg,
    h3 .anchor:focus svg,
    h4 .anchor:focus svg,
    h5 .anchor:focus svg,
    h6 .anchor:focus svg {
      visibility: visible;
    }
  </style><script>
    document.addEventListener("DOMContentLoaded", function(event) {
      var hash = window.decodeURI(location.hash.replace('#', ''))
      if (hash !== '') {
        var element = document.getElementById(hash)
        if (element) {
          var scrollTop = window.pageYOffset || document.documentElement.scrollTop || document.body.scrollTop
          var clientTop = document.documentElement.clientTop || document.body.clientTop || 0
          var offset = element.getBoundingClientRect().top + scrollTop - clientTop
          // Wait for the browser to finish rendering before scrolling.
          setTimeout((function() {
            window.scrollTo(0, offset - 0)
          }), 0)
        }
      }
    })
  </script><link as="script" rel="preload" href="/mva-meldingen/webpack-runtime-1defc1ca0de2e6e5668e.js"/><link as="script" rel="preload" href="/mva-meldingen/framework-da8a1ea7f298509dc5ee.js"/><link as="script" rel="preload" href="/mva-meldingen/app-2b14fe4a334a974441cb.js"/><link as="script" rel="preload" href="/mva-meldingen/styles-c2fe8482057191dca484.js"/><link as="script" rel="preload" href="/mva-meldingen/b6f0a20a63d6adab58b8c9afc6a4bb63a39e32a5-81fa3ee79d448ffbb0d2.js"/><link as="script" rel="preload" href="/mva-meldingen/component---src-templates-documentation-template-js-aedfd7eca05df1ef6837.js"/><link as="fetch" rel="preload" href="/mva-meldingen/page-data\documentation\implementasjonsguide\page-data.json" crossorigin="anonymous"/><link as="fetch" rel="preload" href="/mva-meldingen/page-data/sq/d/270254161.json" crossorigin="anonymous"/><link as="fetch" rel="preload" href="/mva-meldingen/page-data/sq/d/270254161.json" crossorigin="anonymous"/><link as="fetch" rel="preload" href="/mva-meldingen/page-data\app-data.json" crossorigin="anonymous"/></head><body><div id="___gatsby"><div class="ms-Fabric root-36"><div><div style="margin-bottom:35px" class="header-module--main-header--B1ZQz"><div class="header-module--main-header-content--2RY48"><div class="header-module--main-header-wrapper--34EUT"><div><div class="ms-Image header-module--main-header-logo--1fUV3 root-38"><img src="/mva-meldingen/static/ske-logo-7d479f293e61a007b36e122c48735bae.svg" class="ms-Image-image ms-Image-image--portrait is-notLoaded is-fadeIn image-39"/></div></div><div class="header-module--main-header-button--2kQ00"><button><i data-icon-name="Menu" aria-hidden="true" class="root-41"></i></button></div></div><nav class="header-module--main-header-nav--2CrOn header-module--main-header-nav-hidden--1rc-e"><ul class="header-module--main-header-menu--2o9XB"><li><a href="/mva-meldingen/">Mva-meldingen</a></li><li><a href="/mva-meldingen/documentation">Dokumentasjon</a></li><li><a href="/mva-meldingen/frontpage_eng">Frontpage in English</a></li><li><a href="/mva-meldingen/english">Documentation in English</a></li></ul></nav></div></div></div><div style="display:flex;padding:30px;max-width:1024px;margin:0 auto"><div style="outline:none" tabindex="-1" id="gatsby-focus-wrapper"><div class="ske-Grid-42 "><div class="ske-Grid-row-45 "><div class="ske-Grid-col-46 "><h1>Implementasjonsguide</h1><nav class="table-of-contents-module--toc--3ybUf"><ul><li class="table-of-contents-module--toc-level--xyWuY table-of-contents-module--toc-level-2--1Dh4V"><i data-icon-name="ArrowDown" aria-hidden="true" class="root-48"></i><a href="/mva-meldingen/documentation/implementasjonsguide/#implementasjonsguide">Implementasjonsguide</a></li><li class="table-of-contents-module--toc-level--xyWuY table-of-contents-module--toc-level-3--hThrR"><i data-icon-name="ArrowDown" aria-hidden="true" class="root-48"></i><a href="/mva-meldingen/documentation/implementasjonsguide/#endringslogg">Endringslogg</a></li><li class="table-of-contents-module--toc-level--xyWuY table-of-contents-module--toc-level-2--1Dh4V"><i data-icon-name="ArrowDown" aria-hidden="true" class="root-48"></i><a href="/mva-meldingen/documentation/implementasjonsguide/#forord">Forord</a></li><li class="table-of-contents-module--toc-level--xyWuY table-of-contents-module--toc-level-2--1Dh4V"><i data-icon-name="ArrowDown" aria-hidden="true" class="root-48"></i><a href="/mva-meldingen/documentation/implementasjonsguide/#oversikt">Oversikt</a></li><li class="table-of-contents-module--toc-level--xyWuY table-of-contents-module--toc-level-2--1Dh4V"><i data-icon-name="ArrowDown" aria-hidden="true" class="root-48"></i><a href="/mva-meldingen/documentation/implementasjonsguide/#oppgavedetaljer">Oppgavedetaljer</a></li><li class="table-of-contents-module--toc-level--xyWuY table-of-contents-module--toc-level-3--hThrR"><i data-icon-name="ArrowDown" aria-hidden="true" class="root-48"></i><a href="/mva-meldingen/documentation/implementasjonsguide/#1-uttrekk-av-grunnlagsdata-fra-regnskapssystemet-til-utfylling-av-modernisert-mva-melding">1. Uttrekk av grunnlagsdata fra regnskapssystemet til utfylling av modernisert Mva-Melding</a></li><li class="table-of-contents-module--toc-level--xyWuY table-of-contents-module--toc-level-3--hThrR"><i data-icon-name="ArrowDown" aria-hidden="true" class="root-48"></i><a href="/mva-meldingen/documentation/implementasjonsguide/#2-visning-av-mva-meldingen-i-regnskapssytemet">2. Visning av Mva-Meldingen i regnskapssytemet</a></li><li class="table-of-contents-module--toc-level--xyWuY table-of-contents-module--toc-level-3--hThrR"><i data-icon-name="ArrowDown" aria-hidden="true" class="root-48"></i><a href="/mva-meldingen/documentation/implementasjonsguide/#3-id-porten-integrasjon">3. ID-Porten integrasjon</a></li><li class="table-of-contents-module--toc-level--xyWuY table-of-contents-module--toc-level-4--1ZHxT"><i data-icon-name="ArrowDown" aria-hidden="true" class="root-48"></i><a href="/mva-meldingen/documentation/implementasjonsguide/#id-porten-prosess">ID-Porten prosess</a></li><li class="table-of-contents-module--toc-level--xyWuY table-of-contents-module--toc-level-4--1ZHxT"><i data-icon-name="ArrowDown" aria-hidden="true" class="root-48"></i><a href="/mva-meldingen/documentation/implementasjonsguide/#autentiseringsprosessen">Autentiseringsprosessen</a></li><li class="table-of-contents-module--toc-level--xyWuY table-of-contents-module--toc-level-4--1ZHxT"><i data-icon-name="ArrowDown" aria-hidden="true" class="root-48"></i><a href="/mva-meldingen/documentation/implementasjonsguide/#token-cache">Token-cache</a></li><li class="table-of-contents-module--toc-level--xyWuY table-of-contents-module--toc-level-4--1ZHxT"><i data-icon-name="ArrowDown" aria-hidden="true" class="root-48"></i><a href="/mva-meldingen/documentation/implementasjonsguide/#applikasjonstype-og-kjøremiljø">Applikasjonstype og kjøremiljø</a></li><li class="table-of-contents-module--toc-level--xyWuY table-of-contents-module--toc-level-4--1ZHxT"><i data-icon-name="ArrowDown" aria-hidden="true" class="root-48"></i><a href="/mva-meldingen/documentation/implementasjonsguide/#oauth2openid---erfaring">OAuth2/OpenID - erfaring</a></li><li class="table-of-contents-module--toc-level--xyWuY table-of-contents-module--toc-level-3--hThrR"><i data-icon-name="ArrowDown" aria-hidden="true" class="root-48"></i><a href="/mva-meldingen/documentation/implementasjonsguide/#4-validere-mva-melding-mot-skatteetatens-validerings-api">4. Validere Mva-Melding mot Skatteetatens validerings-api</a></li><li class="table-of-contents-module--toc-level--xyWuY table-of-contents-module--toc-level-3--hThrR"><i data-icon-name="ArrowDown" aria-hidden="true" class="root-48"></i><a href="/mva-meldingen/documentation/implementasjonsguide/#5-tolkning-og-visning-av-valideringsresultatet-i-regnskapssystemet">5. Tolkning og visning av valideringsresultatet i regnskapssystemet</a></li><li class="table-of-contents-module--toc-level--xyWuY table-of-contents-module--toc-level-3--hThrR"><i data-icon-name="ArrowDown" aria-hidden="true" class="root-48"></i><a href="/mva-meldingen/documentation/implementasjonsguide/#6-sende-mva-melding-til-skatteetatens-innsendings-api">6. Sende Mva-Melding til Skatteetatens innsendings-api</a></li><li class="table-of-contents-module--toc-level--xyWuY table-of-contents-module--toc-level-3--hThrR"><i data-icon-name="ArrowDown" aria-hidden="true" class="root-48"></i><a href="/mva-meldingen/documentation/implementasjonsguide/#7-hente-tilbakemelding-på-innsendingen-fra-skatteetatens-innsendings-api">7. Hente tilbakemelding på innsendingen fra Skatteetatens innsendings-api</a></li><li class="table-of-contents-module--toc-level--xyWuY table-of-contents-module--toc-level-3--hThrR"><i data-icon-name="ArrowDown" aria-hidden="true" class="root-48"></i><a href="/mva-meldingen/documentation/implementasjonsguide/#8-laste-ned-og-tolke-skatteetatens-tilbakemeldinger">8. Laste ned og tolke Skatteetatens tilbakemeldinger</a></li><li class="table-of-contents-module--toc-level--xyWuY table-of-contents-module--toc-level-2--1Dh4V"><i data-icon-name="ArrowDown" aria-hidden="true" class="root-48"></i><a href="/mva-meldingen/documentation/implementasjonsguide/#ui-forslag">UI-forslag</a></li><li class="table-of-contents-module--toc-level--xyWuY table-of-contents-module--toc-level-3--hThrR"><i data-icon-name="ArrowDown" aria-hidden="true" class="root-48"></i><a href="/mva-meldingen/documentation/implementasjonsguide/#antagelser">Antagelser</a></li><li class="table-of-contents-module--toc-level--xyWuY table-of-contents-module--toc-level-3--hThrR"><i data-icon-name="ArrowDown" aria-hidden="true" class="root-48"></i><a href="/mva-meldingen/documentation/implementasjonsguide/#gjennomføre-validering">Gjennomføre validering</a></li><li class="table-of-contents-module--toc-level--xyWuY table-of-contents-module--toc-level-3--hThrR"><i data-icon-name="ArrowDown" aria-hidden="true" class="root-48"></i><a href="/mva-meldingen/documentation/implementasjonsguide/#valideringen-mislykkes">Valideringen mislykkes</a></li><li class="table-of-contents-module--toc-level--xyWuY table-of-contents-module--toc-level-3--hThrR"><i data-icon-name="ArrowDown" aria-hidden="true" class="root-48"></i><a href="/mva-meldingen/documentation/implementasjonsguide/#valideringen-lykkes-uten-avvik">Valideringen lykkes uten avvik</a></li><li class="table-of-contents-module--toc-level--xyWuY table-of-contents-module--toc-level-3--hThrR"><i data-icon-name="ArrowDown" aria-hidden="true" class="root-48"></i><a href="/mva-meldingen/documentation/implementasjonsguide/#valideringen-lykkes-med-avvik">Valideringen lykkes med avvik</a></li><li class="table-of-contents-module--toc-level--xyWuY table-of-contents-module--toc-level-3--hThrR"><i data-icon-name="ArrowDown" aria-hidden="true" class="root-48"></i><a href="/mva-meldingen/documentation/implementasjonsguide/#innsending-av-mva-melding">Innsending av mva-melding</a></li><li class="table-of-contents-module--toc-level--xyWuY table-of-contents-module--toc-level-3--hThrR"><i data-icon-name="ArrowDown" aria-hidden="true" class="root-48"></i><a href="/mva-meldingen/documentation/implementasjonsguide/#mva-melding-mottatt">Mva-Melding mottatt</a></li></ul></nav><div class="documentation-template-module--documentation-container--3aiYG"><div><h2 id="implementasjonsguide" style="position:relative"><a href="#implementasjonsguide" aria-label="implementasjonsguide permalink" class="anchor before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Implementasjonsguide</h2>
<h3 id="endringslogg" style="position:relative"><a href="#endringslogg" aria-label="endringslogg permalink" class="anchor before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Endringslogg</h3>

















<table><thead><tr><th style="text-align:left">Dato</th><th style="text-align:left">Hva ble endret?</th></tr></thead><tbody><tr><td style="text-align:left">2021.05.19</td><td style="text-align:left">La til denne endringsloggen og inkluderte at mva-meldingen meldingen blir validert under <a href="#InnsendingValidering">fullføring av opplasting</a>.</td></tr><tr><td style="text-align:left">2021.06.17</td><td style="text-align:left">Oppdatering av <a href="#7-hente-tilbakemelding-p%C3%A5-innsendingen-fra-skatteetatens-innsendings-api">hente tilbakemelding</a> og <a href="#8-laste-ned-og-tolke-skatteetatens-tilbakemeldinger">tilbakemeldingsfiler</a>.</td></tr></tbody></table>
<h2 id="forord" style="position:relative"><a href="#forord" aria-label="forord permalink" class="anchor before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Forord</h2>
<p>Denne guiden er skrevet av en utvikler for å gi leverandører en oversikt over et tenkt prosjekt for å implementere elektronisk innsending av modernisert Mva-Melding til Skattetatens API&#x27;er. Guiden vil hjelpe prosjektledere og utviklere med forståelsen av omfanget og hvilke tekniske betraktninger man bør ta stilling til.</p>
<h2 id="oversikt" style="position:relative"><a href="#oversikt" aria-label="oversikt permalink" class="anchor before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Oversikt</h2>



























































<table><thead><tr><th style="text-align:center">#</th><th>Oppgave</th><th style="text-align:center">Avhengigheter</th><th style="text-align:center">Kompleksitet</th></tr></thead><tbody><tr><td style="text-align:center">1</td><td>Uttrekk av grunnlagsdata fra regnskapssystemet til utfylling av modernisert Mva-Melding</td><td style="text-align:center">-</td><td style="text-align:center">* <sup id="fnref-1"><a href="#fn-1" class="footnote-ref">1</a></sup></td></tr><tr><td style="text-align:center">2</td><td>Visning av Mva-Meldingen i regnskapssytemet</td><td style="text-align:center">1</td><td style="text-align:center">* <sup id="fnref-1"><a href="#fn-1" class="footnote-ref">1</a></sup></td></tr><tr><td style="text-align:center">3</td><td>ID-Porten integrasjon</td><td style="text-align:center">-</td><td style="text-align:center">21</td></tr><tr><td style="text-align:center">4</td><td>Validere Mva-Melding mot Skatteetatens validerings-api</td><td style="text-align:center">3</td><td style="text-align:center">1</td></tr><tr><td style="text-align:center">5</td><td>Tolkning og visning av valideringsresultatet i regnskapssystemet</td><td style="text-align:center">4</td><td style="text-align:center">* <sup id="fnref-1"><a href="#fn-1" class="footnote-ref">1</a></sup></td></tr><tr><td style="text-align:center">6</td><td>Sende Mva-Melding til Skatteetatens innsendings-api</td><td style="text-align:center">3</td><td style="text-align:center">1</td></tr><tr><td style="text-align:center">7</td><td>Hente status på innsendingen hos Skatteetatens innsendings-api</td><td style="text-align:center">3</td><td style="text-align:center">2</td></tr><tr><td style="text-align:center">8</td><td>Laste ned og tolke Skatteetatens tilbakemeldinger</td><td style="text-align:center">3</td><td style="text-align:center">2</td></tr></tbody></table>
<h2 id="oppgavedetaljer" style="position:relative"><a href="#oppgavedetaljer" aria-label="oppgavedetaljer permalink" class="anchor before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Oppgavedetaljer</h2>
<p>Her finnes detaljer om oppgavene og en forklaring av kompleksiteten.</p>
<h3 id="1-uttrekk-av-grunnlagsdata-fra-regnskapssystemet-til-utfylling-av-modernisert-mva-melding" style="position:relative"><a href="#1-uttrekk-av-grunnlagsdata-fra-regnskapssystemet-til-utfylling-av-modernisert-mva-melding" aria-label="1 uttrekk av grunnlagsdata fra regnskapssystemet til utfylling av modernisert mva melding permalink" class="anchor before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>1. Uttrekk av grunnlagsdata fra regnskapssystemet til utfylling av modernisert Mva-Melding</h3>
<p>Her handler det om å søke opp posteringer i regnskapet og populere den nye Mva-Meldingen. Oppgaven har ingen avhengigheter til andre oppgaver og det anbefales å starte denne så tidlig som mulig.</p>
<p>Elementer som kan påvirke kompleksiteten:</p>
<ul>
<li>Lage objektmodell fra xsd for Mva-Meldingen</li>
<li>Bruk av Kodeliste for prosentuell sats og gyldighetsperiode</li>
<li>Bruk av Kodeliste for mva koder i SAF-T standard brukt i mva-melding</li>
</ul>
<h3 id="2-visning-av-mva-meldingen-i-regnskapssytemet" style="position:relative"><a href="#2-visning-av-mva-meldingen-i-regnskapssytemet" aria-label="2 visning av mva meldingen i regnskapssytemet permalink" class="anchor before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>2. Visning av Mva-Meldingen i regnskapssytemet</h3>
<p>Et skjermbilde hvor Mva-Meldingens innhold presenteres for sluttbrukeren før validering og innsending.</p>
<p>Dette skjermbilde kunne tenkes å inneholde funksjonene for å validere og sende inn.</p>
<h3 id="3-id-porten-integrasjon" style="position:relative"><a href="#3-id-porten-integrasjon" aria-label="3 id porten integrasjon permalink" class="anchor before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>3. ID-Porten integrasjon</h3>
<p>Bak den høye kompleksiteten har følgende blitt betraktet</p>
<ul>
<li>Det må gjennomføres en prosess med ID-Porten</li>
<li>Autentiseringsprosessen burde være brukervennlig for sluttbrukeren</li>
<li>Autentiseringsprosessen må være robust</li>
<li>Token-cache</li>
<li>Applikasjonstype og kjøremiljø</li>
<li>OAuth2/OpenID - erfaring</li>
</ul>
<h4 id="id-porten-prosess" style="position:relative"><a href="#id-porten-prosess" aria-label="id porten prosess permalink" class="anchor before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>ID-Porten prosess</h4>
<p>For å ta i bruk validerings og innsendingsapiene må det integreres med ID-Porten. Det må opprettes et kundeforhold dersom dette ikke finnes, og det må gjennomføres flere runder med testing før produksjon kan starte opp.</p>
<h4 id="autentiseringsprosessen" style="position:relative"><a href="#autentiseringsprosessen" aria-label="autentiseringsprosessen permalink" class="anchor before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Autentiseringsprosessen</h4>
<p>Det antas at det finnes en sluttbruker som allerede er logget inn i regnskapssystemet. Når tiden er inne for å validere eller sende inn Mva-Meldingen ser vi for oss at Mva-Meldingen vises for sluttbrukeren. Autentiseringen vil kunne starte når brukeren velger å validere eller sende inn. Når autentiseringen med ID-porten er gjennomført har systemet et aksess-token som vil kunne brukes når Skatteetatens validerings- eller innsendings-api kalles. For å slippe at brukeren skal autentisere seg med ID-Porten hver gang en mva-melding skal valideres eller sendes inn burde man opprette en cache for Aksess-tokenet for den innloggede brukeren. Aksess-tokenet utstedes med en levetid og vil være gyldig til levetiden utløper. Når levetiden utløper må man ha nytt, og brukeren må enten logge inn på nytt eller dersom kjøremiljøet til regnskapssystemet kan holde en hemmelighet vil man kunne benytte refresh-tokens.</p>
<h4 id="token-cache" style="position:relative"><a href="#token-cache" aria-label="token cache permalink" class="anchor before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Token-cache</h4>
<p>For at brukeren ikke skal måtte logge inn hver gang en Mva-Melding skal sendes inn anbefales det å utvikle en cache for innloggede brukeres tokens. Fra tokenet kan man hente utløpstiden som kan brukes for å finne ut om brukeren må logge inn igjen før innsending.</p>
<h4 id="applikasjonstype-og-kjøremiljø" style="position:relative"><a href="#applikasjonstype-og-kj%C3%B8remilj%C3%B8" aria-label="applikasjonstype og kjøremiljø permalink" class="anchor before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Applikasjonstype og kjøremiljø</h4>
<p>Både applikasjonstypen og kjøremiljøet vil være med å bestemme om man har mulighet til å benytte refresh-tokens.</p>
<p>ID-Portens innlogging krever at applikasjonen kan lytte til en URL som er konfigurert i ID-Porten klienten når sluttbrukeren har gjennomført autentisering via ID-Porten. Browseren vil redirigere brukeren til nevnte URL så det vil ikke kreve noen endringer i nettverk eller brannmur. Det vil være mindre komplekst å gjøre dette i en web-applikasjon eller SPA i forhold til en skrivebordsapplikasjon.</p>
<h4 id="oauth2openid---erfaring" style="position:relative"><a href="#oauth2openid---erfaring" aria-label="oauth2openid   erfaring permalink" class="anchor before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>OAuth2/OpenID - erfaring</h4>
<p>Dersom erfaringen med OAuth2/OpenID er liten så vil dette kreve innsats å forstå og implementere på en god måte. Alle elementene i ID-Porten integrasjonen henger sammen og det er viktig å bevare brukeropplevelsen under utviklingen.</p>
<p>Les mer om <a href="https://skatteetaten.github.io/mva-meldingen/documentation/idportenautentisering/">ID-porten &amp; Autentisering</a></p>
<h3 id="4-validere-mva-melding-mot-skatteetatens-validerings-api" style="position:relative"><a href="#4-validere-mva-melding-mot-skatteetatens-validerings-api" aria-label="4 validere mva melding mot skatteetatens validerings api permalink" class="anchor before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>4. Validere Mva-Melding mot Skatteetatens validerings-api</h3>
<p>Å kalle valideringstjenesten med ID-Porten-token er nærmest trivielt dersom man har en mva-melding og man har et gyldig token fra ID-Porten. Vi anbefaler en prosess hvor valideringstjenesten kalles med mva-meldingen før man starter innsendingen.</p>
<p>Validerings-apiet validerer kun mva-meldingsfilen som er en av flere filer i innsendingen.</p>
<h3 id="5-tolkning-og-visning-av-valideringsresultatet-i-regnskapssystemet" style="position:relative"><a href="#5-tolkning-og-visning-av-valideringsresultatet-i-regnskapssystemet" aria-label="5 tolkning og visning av valideringsresultatet i regnskapssystemet permalink" class="anchor before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>5. Tolkning og visning av valideringsresultatet i regnskapssystemet</h3>
<p>Valideringstjenesten vil returnere et valideringsresultat, og det vil være hensiktsmessig å presentere resultatet for sluttbrukeren, spesielt dersom valideringstjenesten finner mva-meldingen ugyldig. Dette indikeres i valideringsresultatet med status satt til UGYLDIG_SKATTEMELDING. Ugyldige meldinger blir ikke behandlet eller ansett som mottatt av Skatteetaten. Valideringsresultatet vil også gi tilbakemeldinger på element-nivå og vil kunne være interessant å vise i kontekst av mva-meldingen som skal sendes inn.</p>
<p><span style="color:red"><strong>Skatteetaten anbefaler å avbryte innsending dersom valideringsresultatet sin status er UGYLDIG_SKATTEMELDING.</strong>
</span></p>
<h3 id="6-sende-mva-melding-til-skatteetatens-innsendings-api" style="position:relative"><a href="#6-sende-mva-melding-til-skatteetatens-innsendings-api" aria-label="6 sende mva melding til skatteetatens innsendings api permalink" class="anchor before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>6. Sende Mva-Melding til Skatteetatens innsendings-api</h3>
<p>En innsending består av følgende filer:</p>
<ul>
<li>Mva-Melding</li>
<li>Mva-Melding-Innsending</li>
<li>Vedlegg
Og lastes opp til innsendings-apiet i flere kall. Sekvensen av kall er dokumentert under API, og består av enkle Http-kall.</li>
</ul>
<p>Brukeren som starter innsendingen må være autorisert for dette for den aktuelle organisasjonen. Sluttbrukeren må ha en av de følgende Altinn-rollene:</p>
<ul>
<li>Ansvarlig revisor</li>
<li>Regnskapsmedarbeider</li>
<li>Regnskapsfører uten signeringsrett</li>
<li>Revisormedarbeider</li>
</ul>
<p>Når alle filene er lastet opp må man gjøre et kall for å fullføre opplasting, og innsendingen vil være klar for fullføring dersom ingen valideringsfeil finnes.</p>
<p><a name="InnsendingValidering"></a>Skatteetaten validerer følgende:</p>
<ul>
<li>At organisasjonsnummer er likt i Mva-Meldingsfilen, Mva-Melding-Innsendingsfilen og at det samme organisasjonsnummer som ble brukt for å skape innsendingen (instansens organisasjonsnummer må også være det samme).</li>
<li>At vedleggene som er lastet opp er i lista over vedlegg i Mva-Melding-Innsendingsfilen og vise versa.</li>
<li>At Meldingskategorien er lik i Mva-Meldingsfilen og Mva-Melding-Innsendingsfilen</li>
<li>At Mva-Meldingen er gyldig. Skatteetaten gjør samme kall som i <a href="#4-validere-mva-melding-mot-skatteetatens-validerings-api">4. Validere Mva-Melding</a>, og returnerer valideringsresultatet som innhold i responsen.</li>
</ul>
<p>Responsen vil ha http-statuskoden 409 hvis valideringen mislykkes. Det er mulig å oppdatere de opplastede filene med egne API-kall. Mer info kan finnes hos Altinn Studio Instans API og <a href="../api#prosess-innsending-og-validering" target="_blank">referanse finnes i API-dokumentasjonen</a></p>
<p>Når opplastningen er fullført, kan innsendingen fullføres. Brukeren som fullfører innsendingen må være autorisert for dette for den aktuelle organisasjonen. Sluttbrukeren må ha en av de følgende Altinn-rollene:</p>
<ul>
<li>Begrenset signeringsrett</li>
<li>Kontaktperson NUF</li>
<li>Regnskapsfører med signeringsrett</li>
</ul>
<h3 id="7-hente-tilbakemelding-på-innsendingen-fra-skatteetatens-innsendings-api" style="position:relative"><a href="#7-hente-tilbakemelding-p%C3%A5-innsendingen-fra-skatteetatens-innsendings-api" aria-label="7 hente tilbakemelding på innsendingen fra skatteetatens innsendings api permalink" class="anchor before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>7. Hente tilbakemelding på innsendingen fra Skatteetatens innsendings-api</h3>
<p>Bak kulissene er dette en asynkron operasjon som involverer flere mikrotjenester. For å legge til rette for en bedre brukeropplevelse og lette implementasjonen av å finne ut om Skatteetaten har mottatt innsending, har vi gjort en utvidelse av rest-apiet som vil blokkere til tilstanden for innleveringen har nådd Skatteetatens definisjon av mottatt. Dette vil spare deg for å implementere en pollende løkke som vil måtte vite og finne ut om Skatteetaten har mottatt innsendingen og gitt tilbakemelding.</p>
<p>I tilfelle det skal polles for å hente tilbakemelding skal status-endepunktet brukes til det returnerer at tilbakemelding er gitt, før instansen hentes, enten med feedback-apiet, eller med instans-apiet.</p>
<p>Flere detaljer om regler og tilbakemelding finnes i <a href="../api#hent-tilbakemelding" target="_blank">API-dokumentasjonen</a></p>
<h3 id="8-laste-ned-og-tolke-skatteetatens-tilbakemeldinger" style="position:relative"><a href="#8-laste-ned-og-tolke-skatteetatens-tilbakemeldinger" aria-label="8 laste ned og tolke skatteetatens tilbakemeldinger permalink" class="anchor before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>8. Laste ned og tolke Skatteetatens tilbakemeldinger</h3>
<p>Skatteetatens tilbakemeldinger består av:</p>
<ul>
<li>Status for innlevering (altinn instans substatus)</li>
<li>Kvittering i PDF-format</li>
<li>Betalingsinformasjon i xml</li>
<li>Valideringsresultat i xml</li>
</ul>
<p>Disse dokumentene er lastet opp til instansen for innsendingen. Lokasjonen hvor de kan lastes ned fra finnes i dataliste-elementet i instansen som returneres fra enten instans-api&#x27;et eller tilbakemeldingsutvidelsen av api&#x27;et omtalt i punkt 7.</p>
<p>Flere detaljer om tilbakemeldingsfilene finnes i <a href="../api#tilbakemeldingsfiler" target="_blank">API-dokumentasjonen</a></p>
<h2 id="ui-forslag" style="position:relative"><a href="#ui-forslag" aria-label="ui forslag permalink" class="anchor before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>UI-forslag</h2>
<p>I de følgende skissene foreslår Skatteetaten en brukeropplevelse som vil sikre en enkel arbeidsflyt for sluttbrukeren og hvordan vi anbefaler å kalle valideringstjenestens API.</p>
<h3 id="antagelser" style="position:relative"><a href="#antagelser" aria-label="antagelser permalink" class="anchor before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Antagelser</h3>
<p>I de følgende skissene antar vi at</p>
<ul>
<li>Brukeren har et gyldig ID-Porten Access Token</li>
<li>En mva-melding er generert</li>
</ul>
<h3 id="gjennomføre-validering" style="position:relative"><a href="#gjennomf%C3%B8re-validering" aria-label="gjennomføre validering permalink" class="anchor before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Gjennomføre validering</h3>
<p>Vi anbefaler at valideringen blir kalt og er vellykket før du fullfører innsendingen. Hvis det sendes en mva-melding som blir validert og funnet ugyldig av Skatteetaten, anses innsendingen som &quot;Ikke levert&quot;, selv om det er teknisk mulig å levere en ugyldig mva-melding.
<img src="/mva-meldingen/a7ae473b0087e45dcc03458b1a454115/Skisse%20til%20dokumentasjon%2001.png"/></p>
<h3 id="valideringen-mislykkes" style="position:relative"><a href="#valideringen-mislykkes" aria-label="valideringen mislykkes permalink" class="anchor before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Valideringen mislykkes</h3>
<p>Hvis valideringen mislykkes, er det ingen grunn for sluttbrukeren å sende den inn, fordi den ikke blir ansett som levert og den vil ikke bli behandlet av Skatteetaten. Vi anbefaler å holde innleveringen deaktivert og vise valideringsfeil og avvik i mva-meldingsvisningen. Valideringsresultatet inkluderer hvilke valideringsregler som feilet og hvilke MVA-koder som forårsaker det.
<img src="/mva-meldingen/4c7288cec68968e9400bc3680fc632d7/Skisse%20til%20dokumentasjon%2002.png"/></p>
<h3 id="valideringen-lykkes-uten-avvik" style="position:relative"><a href="#valideringen-lykkes-uten-avvik" aria-label="valideringen lykkes uten avvik permalink" class="anchor before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Valideringen lykkes uten avvik</h3>
<p>Hvis valideringen finner meldingen gyldig, kan innsendingsfunksjonen trygt aktiveres. Skatteetaten vil automatisk behandle og godta gyldige meldinger.</p>
<p><img src="/mva-meldingen/038e78385f4d620d333bbfe127beeb08/Skisse%20til%20dokumentasjon%2003.png"/></p>
<h3 id="valideringen-lykkes-med-avvik" style="position:relative"><a href="#valideringen-lykkes-med-avvik" aria-label="valideringen lykkes med avvik permalink" class="anchor before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Valideringen lykkes med avvik</h3>
<p>Avvik vil også returneres i valideringsresultatet. Mva-Meldingen vil være gyldig selv om det skulle finnes avvik, og Skatteetaten vil godta meldingen og behandle den automatisk. Innsendingsfunksjonen kan trygt aktiveres.</p>
<p><img src="/mva-meldingen/c0cf645b7028e91d455e10346564a55c/Skisse%20til%20dokumentasjon%2002%20Avviksmelding.png"/></p>
<h3 id="innsending-av-mva-melding" style="position:relative"><a href="#innsending-av-mva-melding" aria-label="innsending av mva melding permalink" class="anchor before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Innsending av mva-melding</h3>
<p>Når det er klart for å sende inn mva-meldingen, anbefaler vi at når det klikkes på Send-knappen:</p>
<ol>
<li>Gjennomfører alle kallene for innsending, se serien med kall i API-seksjonen</li>
<li>Kalle det synkrone (og blokkerende) API-kallet som er diskutert i nr. 7 ovenfor for å vente på tilbakemelding fra Skatteetaten</li>
</ol>
<p>Begge skal kunne utføres mens det blir presentert en opptatt-indikator. I denne skissen som en spinner i Send-knappen.</p>
<p><img src="/mva-meldingen/899628229ecbdec90a66056e7578e6d2/Skisse%20til%20dokumentasjon%2004.png"/></p>
<h3 id="mva-melding-mottatt" style="position:relative"><a href="#mva-melding-mottatt" aria-label="mva melding mottatt permalink" class="anchor before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Mva-Melding mottatt</h3>
<p>Som nevnt skal Skatteetaten kunne gi tilbakemelding før man får timeout på den synkrone requesten, og vi tror det er verdifullt å vente på tilbakemelding i forbindelse med innleveringen. Da vil brukeren kunne fullføre det nødvendige arbeidet under leveringen av mva-meldingen. Hvis det ikke ventes på tilbakemeldingen, må sluttbrukeren returnere til den senere.</p>
<p><img src="/mva-meldingen/bd07ef5fef9441c9738b7bc24144e31a/Skisse%20til%20dokumentasjon%2005.png"/></p>
<div class="footnotes">
<hr/>
<ol>
<li id="fn-1">
<p>Kompleksiteten i denne oppgaven er avhengig av implementasjonen av regnskapssystemet og er opp til leverandøren å evaluere.</p>
<a href="#fnref-1" class="footnote-backref">↩</a>
</li>
</ol>
</div></div></div></div></div></div></div><div id="gatsby-announcer" style="position:absolute;top:0;width:1px;height:1px;padding:0;overflow:hidden;clip:rect(0, 0, 0, 0);white-space:nowrap;border:0" aria-live="assertive" aria-atomic="true"></div></div><div><div class="footerDecorContainer-51" role="contentinfo"><svg focusable="false" class="footer-decoration-svg" xmlns="http://www.w3.org/2000/svg" width="100%" height="100%" preserveAspectRatio="none" viewBox="0 0 1440 100" version="1.1"><desc></desc><defs></defs><g stroke="none" stroke-width="0" fill="none" fill-rule="evenodd"><g id="bakgrunn"><polygon fill="#C0797E" points="0 99.6400524 1440 99.6400524 1440 69.2255838 0 17.1793194"></polygon><path d="M1440,98 L1440,629 L0,629 L0,98 L1440,0 L1440,98 Z" fill="#6F2C3F"></path></g></g></svg></div><footer class="footerWrapper-49"><div class="footerContent-50"><div class="ske-Grid-42 "><div class="ske-Grid-row-45 "><div class="ske-Grid-col-52 "><div class="ms-Image root-54" style="height:74px"><img src="/mva-meldingen/static/ske-logo-a0e8bc5ad23f41f04a6c4e5655a5174b.svg" alt="Skatteetaten logo" class="ms-Image-image ms-Image-image--portrait is-notLoaded is-fadeIn image-55"/></div></div><div class="ske-Grid-col-56 "><div class="footer-module--footer-links--1p2zW"><div><a href="https://www.skatteetaten.no" target="blank" class="footer-module--footer-link--3N1pB" style="margin:10px 0">skatteetaten.no</a></div></div></div></div></div></div></footer></div></div></div><script id="gatsby-script-loader">/*<![CDATA[*/window.pagePath="/documentation/implementasjonsguide/";/*]]>*/</script><script id="gatsby-chunk-mapping">/*<![CDATA[*/window.___chunkMapping={"polyfill":["/polyfill-3370241ddb89d1467de6.js"],"app":["/app-2b14fe4a334a974441cb.js"],"component---src-pages-404-js":["/component---src-pages-404-js-a7c0e2c227b82808bcb0.js"],"component---src-pages-documentation-js":["/component---src-pages-documentation-js-5de4a3bc96a208f73256.js"],"component---src-pages-english-js":["/component---src-pages-english-js-5efc5115f0dbc3c695cc.js"],"component---src-pages-index-js":["/component---src-pages-index-js-05223ca033758f7629ff.js"],"component---src-templates-documentation-template-js":["/component---src-templates-documentation-template-js-aedfd7eca05df1ef6837.js"]};/*]]>*/</script><script src="/mva-meldingen/polyfill-3370241ddb89d1467de6.js" nomodule=""></script><script src="/mva-meldingen/component---src-templates-documentation-template-js-aedfd7eca05df1ef6837.js" async=""></script><script src="/mva-meldingen/b6f0a20a63d6adab58b8c9afc6a4bb63a39e32a5-81fa3ee79d448ffbb0d2.js" async=""></script><script src="/mva-meldingen/styles-c2fe8482057191dca484.js" async=""></script><script src="/mva-meldingen/app-2b14fe4a334a974441cb.js" async=""></script><script src="/mva-meldingen/framework-da8a1ea7f298509dc5ee.js" async=""></script><script src="/mva-meldingen/webpack-runtime-1defc1ca0de2e6e5668e.js" async=""></script></body></html>