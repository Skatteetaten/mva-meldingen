<!DOCTYPE html><html><head><meta charSet="utf-8"/><meta http-equiv="x-ua-compatible" content="ie=edge"/><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"/><style data-href="/mva-meldingen/styles.18cef00622c090c8305e.css" id="gatsby-global-css">.header-module--main-header--312s6:after{display:block;content:"";width:100%;height:12px;background-color:#fff;background-repeat:no-repeat;background-position:50%;background-size:cover;background-image:url("data:image/png;base64,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")}.header-module--main-header-content--1NGLi{display:flex;padding:30px;max-width:1024px;margin:0 auto}.header-module--main-header-wrapper--1p_ZZ{display:flex;justify-content:space-between}.header-module--main-header-button--3oc3D{position:relative;top:-4px}.header-module--main-header-button--3oc3D button{width:100%;background:transparent;border:0;outline:none;flex:0 1}.header-module--main-header-button--3oc3D i{font-size:34px;font-weight:700}.header-module--main-header--312s6 button:hover,button:active,button:focus{cursor:pointer}.header-module--main-header-nav--2v13z{max-width:900px}.header-module--main-header-menu--1McU5{display:flex;list-style-type:none;font-weight:700;padding-left:0;text-align:center}.header-module--main-header-logo--2kJpu img{height:68px}.header-module--main-header-menu--1McU5 li{flex:1 1;margin-left:30px}.header-module--main-header-menu-active--2ptLO{padding-bottom:2px;border-bottom:4px solid #6f2c3f!important}.header-module--main-header-menu--1McU5 a{white-space:nowrap;color:#000;border:0;border-color:transparent;transition:border-color .5s}.header-module--main-header-menu--1McU5 a:hover,a:active,a:focus{border-bottom:4px solid #6f2c3f;outline:none;padding-bottom:2px;transition:border-color .5s}@media (min-width:1024px){.header-module--main-header--312s6 button{display:none}}@media (max-width:1023px){.header-module--main-header-nav-hidden--yl-vp{background:green;display:none}.header-module--main-header-nav--2v13z{max-width:100%}.header-module--main-header-content--1NGLi{flex-direction:column}.header-module--main-header-menu--1McU5{flex-direction:column;margin:20px 0 0}.header-module--main-header-menu--1McU5 li{margin-left:0}.header-module--main-header-logo--2kJpu img{height:40px}.header-module--main-header-menu--1McU5 li a{display:block;border-bottom:2px solid #eee;padding:.5rem 0}.header-module--main-header-menu--1McU5 a:hover,a:active,a:focus{padding:.5rem 0;border-bottom:2px solid #eee;text-decoration:none;background-color:#cde1f9}.header-module--main-header-menu-active--2ptLO{background-color:#cde1f9}}.footer-module--footer-link--xomeD img{margin-right:16px}.footer-module--footer-link--xomeD{display:flex;color:#fff;align-items:center;font-weight:700;border:0}.footer-module--footer-link--xomeD:hover{text-decoration:underline}.footer-module--footer-link--xomeD:active,.footer-module--footer-link--xomeD:focus{border:0}.footer-module--footer-links--3jYEG h3{margin-top:0}@media (max-width:1000px){.footer-module--footer-links--3jYEG{margin-top:30px}.footer-module--logo--2eVZt img{margin:0 auto}}code[class*=language-],pre[class*=language-]{color:#000;background:none;text-shadow:0 1px #fff;font-family:Consolas,Monaco,Andale Mono,Ubuntu Mono,monospace;font-size:1em;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;word-wrap:normal;line-height:1.5;tab-size:4;-webkit-hyphens:none;hyphens:none}code[class*=language-]::selection,code[class*=language-] ::selection,pre[class*=language-]::selection,pre[class*=language-] ::selection{text-shadow:none;background:#b3d4fc}@media print{code[class*=language-],pre[class*=language-]{text-shadow:none}}pre[class*=language-]{padding:1em;margin:.5em 0;overflow:auto}:not(pre)>code[class*=language-]{padding:.1em;border-radius:.3em;white-space:normal}.token.cdata,.token.comment,.token.doctype,.token.prolog{color:#708090}.token.punctuation{color:#999}.token.namespace{opacity:.7}.token.boolean,.token.constant,.token.deleted,.token.number,.token.property,.token.symbol,.token.tag{color:#905}.token.attr-name,.token.builtin,.token.char,.token.inserted,.token.selector,.token.string{color:#690}.language-css .token.string,.style .token.string,.token.entity,.token.operator,.token.url{color:#9a6e3a;background:hsla(0,0%,100%,.5)}.token.atrule,.token.attr-value,.token.keyword{color:#07a}.token.class-name,.token.function{color:#dd4a68}.token.important,.token.regex,.token.variable{color:#e90}.token.bold,.token.important{font-weight:700}.token.italic{font-style:italic}.token.entity{cursor:help}html{font-family:Helvetica Neue,Helvetica,Arial,sans-serif;font-size:16px}body{margin:0;line-height:1.5;display:none}@media (min-width:900px){body{font-size:1.0625rem}}img{max-width:100%}.gatsby-highlight pre{max-width:min(992px,80vw);overflow-x:auto}a{color:#1362ae;text-decoration:none;padding-bottom:1px;border-bottom:2px solid rgba(19,98,174,.25)}a,a:focus,a:hover{transition:border-color .5s}a:focus,a:hover{outline:none;border-color:#1362ae}button::-moz-focus-inner{border:0}code{font-size:15px}:not(pre)>code[class*=language-],pre[class*=language-]{background:#f5f2f0}table{width:100%;margin-top:20px;border-collapse:collapse;padding-left:24px}tr{border-bottom:1px solid #bbb;height:56px;transition:background-color .3s ease;vertical-align:top;line-height:32px}tbody tr:nth-child(odd){background:rgba(249,237,226,.4)}thead tr{text-transform:capitalize;border-bottom:2px solid #bbb}td,th{font-size:17px;text-align:left;position:relative;padding:10px}td a{border:none}td:first-child,td:last-child,th:first-child,th:last-child{padding-left:16px}th{font-size:15px}a.anchor{border:none}.table-of-contents-module--toc--bptuj ul{list-style-type:none}.table-of-contents-module--toc--bptuj ul>li{position:relative;margin:5px 0}.table-of-contents-module--toc--bptuj ul>li>a{display:block;border:0;outline:0;transition:none;font-size:.975rem;font-weight:700}.table-of-contents-module--toc--bptuj ul li>a:active,.table-of-contents-module--toc--bptuj ul li>a:focus,.table-of-contents-module--toc--bptuj ul li>a:hover{font-weight:700;outline:0;transition:none;text-decoration:underline}.table-of-contents-module--toc--bptuj ul li>i{font-weight:700;color:#0f68a3;font-size:15px;margin-right:5px}.table-of-contents-module--toc-level--BRHM6{display:flex}.table-of-contents-module--toc-level-2--sO0PN{padding-left:15px}.table-of-contents-module--toc-level-3--f8SE5,.table-of-contents-module--toc-level-4--1ghIJ,.table-of-contents-module--toc-level-5--32egW,.table-of-contents-module--toc-level-6--3nbd4{padding-left:30px}.documentation-template-module--breadcrumb--36CqB{padding-top:15px}.documentation-template-module--breadcrumb--36CqB a{border:none}.documentation-template-module--documentation-container--3kpwN img{max-width:100%;max-height:100%}</style><meta name="generator" content="Gatsby 2.32.13"/><title data-react-helmet="true">Mva-meldingen</title><link data-react-helmet="true" href="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAA/xpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuNi1jMTExIDc5LjE1ODMyNSwgMjAxNS8wOS8xMC0wMToxMDoyMCAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wTU09Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9tbS8iIHhtbG5zOnN0UmVmPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvc1R5cGUvUmVzb3VyY2VSZWYjIiB4bWxuczp4bXA9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC8iIHhtbG5zOmRjPSJodHRwOi8vcHVybC5vcmcvZGMvZWxlbWVudHMvMS4xLyIgeG1wTU06T3JpZ2luYWxEb2N1bWVudElEPSJ1dWlkOjVEMjA4OTI0OTNCRkRCMTE5MTRBODU5MEQzMTUwOEM4IiB4bXBNTTpEb2N1bWVudElEPSJ4bXAuZGlkOkE4RTkxRThBMUQ3QjExRTZCQ0ZFRkI2MTNBNjgyNUJCIiB4bXBNTTpJbnN0YW5jZUlEPSJ4bXAuaWlkOkE4RTkxRTg5MUQ3QjExRTZCQ0ZFRkI2MTNBNjgyNUJCIiB4bXA6Q3JlYXRvclRvb2w9IkFkb2JlIElsbHVzdHJhdG9yIENDIDIwMTUgKE1hY2ludG9zaCkiPiA8eG1wTU06RGVyaXZlZEZyb20gc3RSZWY6aW5zdGFuY2VJRD0idXVpZDowZWM3MjY1OC1hYTYwLTllNDUtOGZjNy1hYTIxMjQ1MzA5ODgiIHN0UmVmOmRvY3VtZW50SUQ9InhtcC5kaWQ6MjhmZjUyYWQtM2EyMC00MTc3LWJiZDItNjk5NmUyOWE1MzQ3Ii8+IDxkYzp0aXRsZT4gPHJkZjpBbHQ+IDxyZGY6bGkgeG1sOmxhbmc9IngtZGVmYXVsdCI+U3ltYl9TS0VfQ01ZSzwvcmRmOmxpPiA8L3JkZjpBbHQ+IDwvZGM6dGl0bGU+IDwvcmRmOkRlc2NyaXB0aW9uPiA8L3JkZjpSREY+IDwveDp4bXBtZXRhPiA8P3hwYWNrZXQgZW5kPSJyIj8+PBoJ2wAAAzZJREFUeNrsV0lPU1EU/t6jLWMDgpH2ARZaMFIJSQ2JRRkCbCxEE8YQNwQ2DvwBQwxLidGFmiDVP2CIUIclhoCRFTEaUTfYigllaqHUVqTQ4Xrvi6JIh4dCGhNOctrk9dxzvnfP/b5zy+k0+XMAlIiPeWX0Q0D8TMkzFHEE4OURZzsAEHcAsr9dqJDLsby8AqfbBTk4JKekIDU1FSn0m+M4EEL2F4Db8wX6Ej10ukKsrq5icWEBLtcKWF2/3w+e5/cXwILDgSvd3bjW27v1zD47i7qaWng8HmRkZOwNALadzHw+n/imaxu+XwXt9m2xfdf7YLVZkSvkSG6DLFrhBD4BS44luL96kZWeAYPBAMNJA4r1esgTE1FWVrYV397aisGhIeQcyRbbwUprNBoxTygU2h0A1r9AIADr5xkUaXW42tMDU0M9SktLwyZpa27BI8swGs+dx41bNzH1dgoD/f0YfTGO7KzDYjtYvrBGh5GHOvnphfkFJD83j70A6ezoIMtOJ4lkbrebtDW1iLHVlVWEtmnb73dv3yEyjiOZ6enkmFZHfq/zwz07ABQVaMWEly9eIrHsscUixp42Gol/czNsjGV4mMg5nhxVC2EB7OCK0+FE6YkS3DMPxDxAH969hyYvD6NjY5BRXQhnjU1N6Ozqgn1hXpoSute8qK2rlUSh6poavJyYQFJSUtS4s/UmsGMYjhU7DiEjnYsqnBSrqKyQFOdaWZE+CwRKoyfPnuLj9PSe6b15wIy05OQtTYkKIDUtDRsbG2gwmWCzWv+5+IX2drx68xqCSi1tB4LBIAo0+Zj5NIPyU0Y8MN8XVXC39nxkBGeM5Xg4OMiYhlAEVeRELoa5lMpkMjio3q96PSIrmpqbUVVdhePFxVCpVDu2001l2mazYXJyEpahYYxTZrCIAq1WVMIIsuyNCEDcHo6nC0NwOJ3wfFtDslwBQRCgVqtxKDMTiQoFAnTH2PBZWlzE3NycKNsKuk7IyYGcUjOaDMcE8OdsYGN2fX1d9E16ToI0OU+fs0JJ9JCxu4CCgtrFfcAreRyzhKwtSqVS9FixB3fCAwD/FQBlHOsrGQ3n4/n3/LsAAwC3vqT092HM6wAAAABJRU5ErkJggg==" rel="shortcut icon"/><style type="text/css">
    .anchor.before {
      position: absolute;
      top: 0;
      left: 0;
      transform: translateX(-100%);
      padding-right: 4px;
    }
    .anchor.after {
      display: inline-block;
      padding-left: 4px;
    }
    h1 .anchor svg,
    h2 .anchor svg,
    h3 .anchor svg,
    h4 .anchor svg,
    h5 .anchor svg,
    h6 .anchor svg {
      visibility: hidden;
    }
    h1:hover .anchor svg,
    h2:hover .anchor svg,
    h3:hover .anchor svg,
    h4:hover .anchor svg,
    h5:hover .anchor svg,
    h6:hover .anchor svg,
    h1 .anchor:focus svg,
    h2 .anchor:focus svg,
    h3 .anchor:focus svg,
    h4 .anchor:focus svg,
    h5 .anchor:focus svg,
    h6 .anchor:focus svg {
      visibility: visible;
    }
  </style><script>
    document.addEventListener("DOMContentLoaded", function(event) {
      var hash = window.decodeURI(location.hash.replace('#', ''))
      if (hash !== '') {
        var element = document.getElementById(hash)
        if (element) {
          var scrollTop = window.pageYOffset || document.documentElement.scrollTop || document.body.scrollTop
          var clientTop = document.documentElement.clientTop || document.body.clientTop || 0
          var offset = element.getBoundingClientRect().top + scrollTop - clientTop
          // Wait for the browser to finish rendering before scrolling.
          setTimeout((function() {
            window.scrollTo(0, offset - 0)
          }), 0)
        }
      }
    })
  </script><link as="script" rel="preload" href="/mva-meldingen/webpack-runtime-db7daa915bd8c9c84df8.js"/><link as="script" rel="preload" href="/mva-meldingen/framework-bf85aa1381d60e2ab535.js"/><link as="script" rel="preload" href="/mva-meldingen/app-613a9a2d6e4fefa28963.js"/><link as="script" rel="preload" href="/mva-meldingen/styles-29147cbc04bbc833f6a0.js"/><link as="script" rel="preload" href="/mva-meldingen/b6f0a20a63d6adab58b8c9afc6a4bb63a39e32a5-fe667a4854bb10f452a9.js"/><link as="script" rel="preload" href="/mva-meldingen/component---src-templates-documentation-template-js-42ab96498117f8d371c5.js"/><link as="fetch" rel="preload" href="/mva-meldingen/page-data/documentation/idportenautentisering/page-data.json" crossorigin="anonymous"/><link as="fetch" rel="preload" href="/mva-meldingen/page-data/sq/d/270254161.json" crossorigin="anonymous"/><link as="fetch" rel="preload" href="/mva-meldingen/page-data/app-data.json" crossorigin="anonymous"/></head><body><div id="___gatsby"><div class="ms-Fabric root-36"><div><div style="margin-bottom:35px" class="header-module--main-header--312s6"><div class="header-module--main-header-content--1NGLi"><div class="header-module--main-header-wrapper--1p_ZZ"><div><div class="ms-Image header-module--main-header-logo--2kJpu root-38"><img src="/mva-meldingen/static/ske-logo-7d479f293e61a007b36e122c48735bae.svg" class="ms-Image-image ms-Image-image--portrait is-notLoaded is-fadeIn image-39"/></div></div><div class="header-module--main-header-button--3oc3D"><button><i data-icon-name="Menu" aria-hidden="true" class="root-41"></i></button></div></div><nav class="header-module--main-header-nav--2v13z header-module--main-header-nav-hidden--yl-vp"><ul class="header-module--main-header-menu--1McU5"><li><a href="/mva-meldingen/">Modernisering av Mva-området</a></li><li><a href="/mva-meldingen/documentation">Felles </a></li><li><a href="/mva-meldingen/mvameldingen">Mva-meldingen </a></li><li><a href="/mva-meldingen/kompensasjon">Kompensasjonsmeldingen</a></li><li><a href="/mva-meldingen/omvendt">Omvendt avgiftsplikt</a></li><li><a href="/mva-meldingen/english">Documentation in English</a></li></ul></nav></div></div></div><div style="display:flex;padding:30px;max-width:1024px;margin:0 auto"><div style="outline:none" tabindex="-1" id="gatsby-focus-wrapper"><div class="ske-Grid-42 "><div class="ske-Grid-row-45 "><div class="ske-Grid-col-46 "><h1>ID-Porten &amp; Autentisering</h1><nav class="table-of-contents-module--toc--bptuj"><ul><li class="table-of-contents-module--toc-level--BRHM6 table-of-contents-module--toc-level-2--sO0PN"><i data-icon-name="ArrowDown" aria-hidden="true" class="root-48"></i><a href="/mva-meldingen/documentation/idportenautentisering/#introduksjon">Introduksjon</a></li><li class="table-of-contents-module--toc-level--BRHM6 table-of-contents-module--toc-level-3--f8SE5"><i data-icon-name="ArrowDown" aria-hidden="true" class="root-48"></i><a href="/mva-meldingen/documentation/idportenautentisering/#endringslogg">Endringslogg</a></li><li class="table-of-contents-module--toc-level--BRHM6 table-of-contents-module--toc-level-2--sO0PN"><i data-icon-name="ArrowDown" aria-hidden="true" class="root-48"></i><a href="/mva-meldingen/documentation/idportenautentisering/#ta-i-bruk-id-porten">Ta i bruk ID-porten</a></li><li class="table-of-contents-module--toc-level--BRHM6 table-of-contents-module--toc-level-2--sO0PN"><i data-icon-name="ArrowDown" aria-hidden="true" class="root-48"></i><a href="/mva-meldingen/documentation/idportenautentisering/#konfigurere-en-integrasjon-i-samarbeidsportalen">Konfigurere en Integrasjon i Samarbeidsportalen</a></li><li class="table-of-contents-module--toc-level--BRHM6 table-of-contents-module--toc-level-3--f8SE5"><i data-icon-name="ArrowDown" aria-hidden="true" class="root-48"></i><a href="/mva-meldingen/documentation/idportenautentisering/#digdir-tjeneste">Digdir-tjeneste</a></li><li class="table-of-contents-module--toc-level--BRHM6 table-of-contents-module--toc-level-3--f8SE5"><i data-icon-name="ArrowDown" aria-hidden="true" class="root-48"></i><a href="/mva-meldingen/documentation/idportenautentisering/#scopes">Scopes</a></li><li class="table-of-contents-module--toc-level--BRHM6 table-of-contents-module--toc-level-4--1ghIJ"><i data-icon-name="ArrowDown" aria-hidden="true" class="root-48"></i><a href="/mva-meldingen/documentation/idportenautentisering/#bestilling-av-scopes">Bestilling av scopes</a></li><li class="table-of-contents-module--toc-level--BRHM6 table-of-contents-module--toc-level-3--f8SE5"><i data-icon-name="ArrowDown" aria-hidden="true" class="root-48"></i><a href="/mva-meldingen/documentation/idportenautentisering/#kundens-orgnr">Kundens org.nr.</a></li><li class="table-of-contents-module--toc-level--BRHM6 table-of-contents-module--toc-level-3--f8SE5"><i data-icon-name="ArrowDown" aria-hidden="true" class="root-48"></i><a href="/mva-meldingen/documentation/idportenautentisering/#integrasjonens-identifikator">Integrasjonens identifikator</a></li><li class="table-of-contents-module--toc-level--BRHM6 table-of-contents-module--toc-level-3--f8SE5"><i data-icon-name="ArrowDown" aria-hidden="true" class="root-48"></i><a href="/mva-meldingen/documentation/idportenautentisering/#navn-på-integrasjonen--beskrivelse">Navn på integrasjonen &amp; Beskrivelse</a></li><li class="table-of-contents-module--toc-level--BRHM6 table-of-contents-module--toc-level-3--f8SE5"><i data-icon-name="ArrowDown" aria-hidden="true" class="root-48"></i><a href="/mva-meldingen/documentation/idportenautentisering/#tillatte-grant-types">Tillatte grant types</a></li><li class="table-of-contents-module--toc-level--BRHM6 table-of-contents-module--toc-level-3--f8SE5"><i data-icon-name="ArrowDown" aria-hidden="true" class="root-48"></i><a href="/mva-meldingen/documentation/idportenautentisering/#klientautentiseringsmetode">Klientautentiseringsmetode</a></li><li class="table-of-contents-module--toc-level--BRHM6 table-of-contents-module--toc-level-3--f8SE5"><i data-icon-name="ArrowDown" aria-hidden="true" class="root-48"></i><a href="/mva-meldingen/documentation/idportenautentisering/#applikasjonstype">Applikasjonstype</a></li><li class="table-of-contents-module--toc-level--BRHM6 table-of-contents-module--toc-level-3--f8SE5"><i data-icon-name="ArrowDown" aria-hidden="true" class="root-48"></i><a href="/mva-meldingen/documentation/idportenautentisering/#gyldige-redirect-uri-er">Gyldig(e) redirect uri-er</a></li><li class="table-of-contents-module--toc-level--BRHM6 table-of-contents-module--toc-level-4--1ghIJ"><i data-icon-name="ArrowDown" aria-hidden="true" class="root-48"></i><a href="/mva-meldingen/documentation/idportenautentisering/#svært-mange-redirect_uri">Svært mange redirect_uri</a></li><li class="table-of-contents-module--toc-level--BRHM6 table-of-contents-module--toc-level-4--1ghIJ"><i data-icon-name="ArrowDown" aria-hidden="true" class="root-48"></i><a href="/mva-meldingen/documentation/idportenautentisering/#alternativ-løsning">Alternativ løsning</a></li><li class="table-of-contents-module--toc-level--BRHM6 table-of-contents-module--toc-level-3--f8SE5"><i data-icon-name="ArrowDown" aria-hidden="true" class="root-48"></i><a href="/mva-meldingen/documentation/idportenautentisering/#gyldige-post-logout-redirect-uri-er">Gyldig(e) post logout redirect uri-er</a></li><li class="table-of-contents-module--toc-level--BRHM6 table-of-contents-module--toc-level-3--f8SE5"><i data-icon-name="ArrowDown" aria-hidden="true" class="root-48"></i><a href="/mva-meldingen/documentation/idportenautentisering/#frontchannel-logout-uri--frontchannel-logout-krever-sesjons-id">Frontchannel logout uri &amp; Frontchannel logout krever sesjons-id</a></li><li class="table-of-contents-module--toc-level--BRHM6 table-of-contents-module--toc-level-3--f8SE5"><i data-icon-name="ArrowDown" aria-hidden="true" class="root-48"></i><a href="/mva-meldingen/documentation/idportenautentisering/#tilbake-uri">Tilbake-uri</a></li><li class="table-of-contents-module--toc-level--BRHM6 table-of-contents-module--toc-level-3--f8SE5"><i data-icon-name="ArrowDown" aria-hidden="true" class="root-48"></i><a href="/mva-meldingen/documentation/idportenautentisering/#levetider">Levetider</a></li><li class="table-of-contents-module--toc-level--BRHM6 table-of-contents-module--toc-level-3--f8SE5"><i data-icon-name="ArrowDown" aria-hidden="true" class="root-48"></i><a href="/mva-meldingen/documentation/idportenautentisering/#refresh-token-type">Refresh token type</a></li><li class="table-of-contents-module--toc-level--BRHM6 table-of-contents-module--toc-level-2--sO0PN"><i data-icon-name="ArrowDown" aria-hidden="true" class="root-48"></i><a href="/mva-meldingen/documentation/idportenautentisering/#eksempel-på-integrasjon">Eksempel på Integrasjon</a></li><li class="table-of-contents-module--toc-level--BRHM6 table-of-contents-module--toc-level-2--sO0PN"><i data-icon-name="ArrowDown" aria-hidden="true" class="root-48"></i><a href="/mva-meldingen/documentation/idportenautentisering/#konfigurere-applikasjonen-til-å-bruke-integrasjonen-fra-samarbeidsportalen">Konfigurere applikasjonen til å bruke Integrasjonen fra Samarbeidsportalen</a></li></ul></nav><div class="documentation-template-module--documentation-container--3kpwN"><div><p><a href="https://skatteetaten.github.io/mva-meldingen/english/idportenauthentication/">English</a></p>
<h2 id="introduksjon" style="position:relative"><a href="#introduksjon" aria-label="introduksjon permalink" class="anchor before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Introduksjon</h2>
<h3 id="endringslogg" style="position:relative"><a href="#endringslogg" aria-label="endringslogg permalink" class="anchor before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Endringslogg</h3>

















<table><thead><tr><th style="text-align:left">Dato</th><th style="text-align:left">Hva ble endret?</th></tr></thead><tbody><tr><td style="text-align:left">2021.08.26</td><td style="text-align:left">Lagt til hvordan man <a href="#scopes">bestiller Skatteetaten scopes</a>.</td></tr><tr><td style="text-align:left">2021.08.26</td><td style="text-align:left">Lagt til seksjon for mange redirect-uri&#x27;s <a href="#gyldige-redirect-uri-er">Gyldig(e) redirect uri-er</a>.</td></tr></tbody></table>
<p>For å autentisere med ID-porten må man implementere en Open ID Connect løsning mot ID-Porten. Det kan være utfordrende å implementere og sees på som det minst trivielle å løse med hensyn på innsending av mva-melding.</p>
<p>Det aller viktigste først: Skatteetaten har ressurser som kan hjelpe deg å forstå og finne en god løsning for din applikasjon.</p>
<p>Denne siden inneholder informasjon om hva som må gjøres, og hva som er spesifikt for Skatteetaten i en Open ID Connect-løsning.</p>
<p>Grovt sett er det følgende som må gjøres:</p>
<ol>
<li>Ta i bruk ID-porten</li>
<li>Konfigurere en Integrasjon i Samarbeidsportalen</li>
<li>Konfigurere applikasjonen til å bruke Integrasjonen fra Samarbeidsportalen</li>
</ol>
<p>Det er utenfor denne dokumentasjonen å beskrive Open ID Connect og OAuth2, men de detaljene som er spesifikke for Integrasjonen og Skatteetaten blir beskrevet i det følgende.</p>
<h2 id="ta-i-bruk-id-porten" style="position:relative"><a href="#ta-i-bruk-id-porten" aria-label="ta i bruk id porten permalink" class="anchor before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Ta i bruk ID-porten</h2>
<p>Det anbefales å komme igang med ID-porten så tidlig som mulig da den antakeligvis vil ta kalendertid. For å komme i gang må man gå gjennom en prosessen hos Digitaliseringsdirektoratet (DigDir), og i den prosessen vil få tilgang til å opprette Integrasjoner i Samarbeidsportalen. For å sende inn mva-meldinger må man ha en Integrasjon som er konfigurert riktig for din applikasjon og for API&#x27;ene Integrasjonen skal brukes mot.</p>
<p>Hvordan man kommer i gang med ID-porten er beskrevet her: <a href="https://samarbeid.digdir.no/id-porten/id-porten/18" target="_blank">ID-Porten</a>.</p>
<p>En annen fordel med å starte prosessen tidlig er at man kan teste Integrasjonen i test-miljøet som inkluderer både Altinn3 og Skatteetaten. Det må også opprettes egen integrasjon for produksjon.</p>
<p>Skatteetatens Integrasjon med Indentifikator <code class="language-text">client_id: 23cc2587-ea4e-4a5f-aa5c-dfce3d6c5f09</code> kan benyttes til ID-Porten er klar til å tas i bruk. Denne vil bli fjernet etter varsel. Se mer i <a href="#konfigurere-en-integrasjon-i-samarbeidsportalen">avsnittet under</a></p>
<h2 id="konfigurere-en-integrasjon-i-samarbeidsportalen" style="position:relative"><a href="#konfigurere-en-integrasjon-i-samarbeidsportalen" aria-label="konfigurere en integrasjon i samarbeidsportalen permalink" class="anchor before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Konfigurere en Integrasjon i Samarbeidsportalen</h2>
<p>Når tilgangen til Samarbeidsportalen er beskaffet, kan det opprettes en Integrasjon som vil kunne benyttes av sluttbrukersystemet.</p>
<p>Man åpner <a href="https://minside-samarbeid.digdir.no/" target="_blank">https://minside-samarbeid.digdir.no/ </a></p>
<p>Og velger Integrasjoner under Ver 2 som vist under.
<img src="/mva-meldingen/cd49b958b040e4ee3fb12dda5b9e07b0/SamarbeidsportalenOversikt.png"/></p>
<p>Da blir man tatt videre til Integrasjonene i Ver 2.
<img src="/mva-meldingen/cd039b08a01965b17d0e72cd2862ccd2/NyIntegrasjon.png"/></p>
<p>Og ved å klikke på Ny integrasjon kan man begynne å konfigurere Integrasjonen mot Skatteetaten.</p>
<p><img src="/mva-meldingen/fd1a895b4a893e7af9b1c5269e27fa9f/BlankID-PortenIntegrasjon.png"/></p>
<p>I denne guiden vil det konfigureres en Digdir-tjeneste at typen API-klient, som vist over.</p>
<p>En gjennomgang av de forskjellige feltene i konfigurasjonen følger</p>
<h3 id="digdir-tjeneste" style="position:relative"><a href="#digdir-tjeneste" aria-label="digdir tjeneste permalink" class="anchor before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Digdir-tjeneste</h3>
<p>Når man velger en verdi fra dette rullegardinet</p>
<ul>
<li>KRR</li>
<li>ID-porten</li>
<li>API-klient</li>
<li>Maskinporten</li>
</ul>
<p>så vil det kanskje skje noe med:</p>
<ul>
<li>Scopes</li>
<li>Applikasjonstype</li>
<li>Felter blir låst eller låst opp</li>
<li>Felter får plutselig verdier som ikke stilles tilbake når man endrer igjen.</li>
</ul>
<p>Dette er forvirrende, så det anbefales å lage flere, det er helt ufarlig og man kan slette dem man ikke vil ta i bruk.</p>
<p>Som nevnt brukes API-klient. Det vil lage en Open ID Connect klient som ikke har noen forututfylte scopes som ikke det er behov for.</p>
<h3 id="scopes" style="position:relative"><a href="#scopes" aria-label="scopes permalink" class="anchor before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Scopes</h3>
<p>For å bruke validerings og innsendings-api&#x27;ene må følgende scopes legges til:</p>
<ul>
<li>openid</li>
<li>skatteetaten:mvameldingvalidering</li>
<li>skatteetaten:mvameldinginnsending</li>
</ul>
<p>For å legge dem til bruk knappen &quot;Legg til scopes&quot;.</p>
<p>Dersom skatteeten-scopene ikke finnes i søket er det fordi Skatteetaten ikke har gitt din organisasjon tilgang til disse scopene ennå. Din organisasjon kan nå bestille tilgang til scopene ved å følge prosedyren under.</p>
<h4 id="bestilling-av-scopes" style="position:relative"><a href="#bestilling-av-scopes" aria-label="bestilling av scopes permalink" class="anchor before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Bestilling av scopes</h4>
<p>Scopene må bestilles av din organisasjon ved å kontakte Skatteetaten via <a href="https://www.skatteetaten.no/kontakt/skriv/" target="_blank">Skriv til oss - Skatteetaten</a> og oppgi <strong>organisasjonsnummer</strong> for organisasjonen som administrerer integrasjonen.</p>
<p>Skatteetaten vil gi tilgang til scopene og de kan deretter legges til i integrasjonen. Scopene må også legges til i koden som integrerer med ID-Porten slik at scopene inkluderes i aksess-tokenet til ID-Porten.</p>
<p>Eksempelkoden <a href="https://github.com/Skatteetaten/mva-meldingen/blob/master/test_with_python_script_files/Steg/hent_idporten_token.py" target="_blank"><code class="language-text">hent_idporten_token.py</code></a> er oppdatert til å reflektere endringene som behøves i ID-Porten-integrasjonen når scopene er lagt til i integrasjonen i selvbetjeningsportalen.</p>
<h3 id="kundens-orgnr" style="position:relative"><a href="#kundens-orgnr" aria-label="kundens orgnr permalink" class="anchor before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Kundens org.nr.</h3>
<p>Dette skal være organisasjonsnummeret til organisasjonen din.</p>
<h3 id="integrasjonens-identifikator" style="position:relative"><a href="#integrasjonens-identifikator" aria-label="integrasjonens identifikator permalink" class="anchor before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Integrasjonens identifikator</h3>
<p>Når integrasjonen blir opprettet dukker det opp en Guid her. Det er dette som er <code class="language-text">client_id</code></p>
<h3 id="navn-på-integrasjonen--beskrivelse" style="position:relative"><a href="#navn-p%C3%A5-integrasjonen--beskrivelse" aria-label="navn på integrasjonen  beskrivelse permalink" class="anchor before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Navn på integrasjonen &amp; Beskrivelse</h3>
<p>Valgfrie tekster. Navnet på integrasjonen vil vises i listen over integrasjonene, så det er fornuftig å gi dem fornuftige navn.</p>
<h3 id="tillatte-grant-types" style="position:relative"><a href="#tillatte-grant-types" aria-label="tillatte grant types permalink" class="anchor before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Tillatte grant types</h3>
<p>Her må det velges:</p>
<ul>
<li>authorization_code</li>
</ul>
<p>Her kan det velges:</p>
<ul>
<li>refresh_token</li>
</ul>
<p>I tilfeller hvor det ikke er helt sikkert at tokens eller hemmeligheter er beskyttet fra røvere, anbefales ikke bruken. Refresh-tokens kan derfor ikke brukes i for eksempel en SPA, hvor nettleseren ikke helt sikkert kan beskytte hemmeligheter eller tokens over lang tid. Det anbefales derfor å ikke bruke <code class="language-text">refresh_tokens</code> i JS/SPA-applikasjoner eller i frittstående applikasjoner som installeres på sluttbrukerens personlige datamaskin. ID-porten har derfor begrensninger på <code class="language-text">refresh_token</code> bruk utenfor web-applikasjoner, hvor tokens og hemmeligheter kan beskyttes på tjeneren.</p>
<p>Et <code class="language-text">refresh_token</code> kan ha veldig lang levetid og brukes til å utstede nye <code class="language-text">access_tokens</code>.</p>
<h3 id="klientautentiseringsmetode" style="position:relative"><a href="#klientautentiseringsmetode" aria-label="klientautentiseringsmetode permalink" class="anchor before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Klientautentiseringsmetode</h3>
<p>Bestemmer hvilken autentiseringsmetode integrasjonen bruker for å autentisere seg (ikke slutt-brukeren).</p>
<p>Velg none dersom det ikke brukes <code class="language-text">refresh_token</code>.</p>
<h3 id="applikasjonstype" style="position:relative"><a href="#applikasjonstype" aria-label="applikasjonstype permalink" class="anchor before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Applikasjonstype</h3>
<p>Det er i dette valget at omtalte <code class="language-text">refresh_token</code> vil kunne bli tilgjengelig dersom web velges.</p>
<p>Applikasjonstypen bestemmer om applikasjonen til integrasjonen er å anse som public eller private, som igjen bestemmer om man kan bruke <code class="language-text">refresh_tokens</code>.</p>
<p>public:</p>
<ul>
<li>native</li>
<li>browser</li>
</ul>
<p>private:</p>
<ul>
<li>web</li>
</ul>
<p>Men dette betyr ikke at en web-applikasjon må være privat. Man kan trygt bruke browser for web-applikasjoner som ikke bruker <code class="language-text">refresh_tokens</code>.</p>
<h3 id="gyldige-redirect-uri-er" style="position:relative"><a href="#gyldige-redirect-uri-er" aria-label="gyldige redirect uri er permalink" class="anchor before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Gyldig(e) redirect uri-er</h3>
<p>Når autentiseringsprosessen starter skal brukeren føres fra applikasjonen til login-siden hos ID-Porten. Og når innloggingen er vellykket blir brukeren redirigert tilbake til applikasjonen.</p>
<p>Dette oppnås ved å inkludere <code class="language-text">redirect_uri</code> i parameterene som brukes for å åpne nettleservinduet hos ID-Porten. <code class="language-text">redirect_uri</code> som sendes som parameter <strong>MÅ</strong> være tilstede i listen over Gyldig(e) redirect uri-er i Integrasjonen.</p>
<p>Applikasjonen er avhengig av å ha et endepunkt som kan håndtere redirigeringen til <code class="language-text">redirect_uri</code>.</p>
<h4 id="svært-mange-redirect_uri" style="position:relative"><a href="#sv%C3%A6rt-mange-redirect_uri" aria-label="svært mange redirect_uri permalink" class="anchor before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Svært mange redirect_uri</h4>
<p>Dersom sluttbrukersystemet sin portefølje har veldig mange installasjoner som ikke deler domene kan de heller ikke dele <code class="language-text">redirect_uri</code>. Installasjonene kan være både on-premise eller i skyen. Siden det er et krav at hvert domene må ha sin egen <code class="language-text">redirect_uri</code> kan det bli utfordrende å administrere disse i selvbetjeningsportalen.</p>
<p>Digitaliseringsetaten har nylig publisert informasjon som kan være nyttig i dette tilfellet: <a href="https://docs.digdir.no/docs/idporten/oidc/oidc_api_admin">https://docs.digdir.no/docs/idporten/oidc/oidc_api_admin</a>
Systemleverandøren vil være eieren av integrasjonen(e) knyttet til automatiske dynamiske løsninger.</p>
<h4 id="alternativ-løsning" style="position:relative"><a href="#alternativ-l%C3%B8sning" aria-label="alternativ løsning permalink" class="anchor before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Alternativ løsning</h4>
<p>Dersom løsningen ovenfor ikke kan brukes i systemporteføljen til systemleverandøren, er det også mulig å la sluttbrukersystemets kunder eie og administrere ID-porten integrasjonene.
Hvis du velger en løsning der hver enkelt kunde administrerer og eier ID-porten-integrasjon, må systemleverandørene supportere kundenes integrasjoner. Skatteetaten supporterer bare henvendelser fra systemleverandører for deres integrasjoner, ikke henvendelser fra systemleverandørers kunder. Skatteetaten vil gi tilgang til de nødvendige scopene for de aktuelle organisasjonsnummerene i tilfeller der denne løsningen velges.
Systemleverandører som ønsker å benytte denne alternative løsningen bør kontakte Skatteetaten med informasjon om hvor mange kunder som er involvert, før de starter med utviklingen av denne løsningen.</p>
<h3 id="gyldige-post-logout-redirect-uri-er" style="position:relative"><a href="#gyldige-post-logout-redirect-uri-er" aria-label="gyldige post logout redirect uri er permalink" class="anchor before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Gyldig(e) post logout redirect uri-er</h3>
<p>Liksom Gyldig(e) redirect uri-er, bortsett fra at denne redirigeringen vil intreffe dersom applikasjonen har bedt ID-porten å logge ut brukeren på samme måte som ved innlogging.</p>
<h3 id="frontchannel-logout-uri--frontchannel-logout-krever-sesjons-id" style="position:relative"><a href="#frontchannel-logout-uri--frontchannel-logout-krever-sesjons-id" aria-label="frontchannel logout uri  frontchannel logout krever sesjons id permalink" class="anchor before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Frontchannel logout uri &amp; Frontchannel logout krever sesjons-id</h3>
<p>Dette er knyttet til single logout og utenfor denne guiden.</p>
<h3 id="tilbake-uri" style="position:relative"><a href="#tilbake-uri" aria-label="tilbake uri permalink" class="anchor before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Tilbake-uri</h3>
<p>Dersom brukeren avbryter innloggingen i ID-Porten vil brukeren tas til denne adressen. Merk at dette bare er 1 uri.</p>
<h3 id="levetider" style="position:relative"><a href="#levetider" aria-label="levetider permalink" class="anchor before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Levetider</h3>
<p>Det er mulig å sette levetiden på</p>
<ul>
<li>Autorization</li>
<li>Access token</li>
<li>Refresh token</li>
</ul>
<p>Kombinasjonen av disse vil bestemme hvor lang tid det går mellom hver gang brukeren må autentisere seg hos ID-Porten.</p>
<p>Levetiden vil bli begrenset av maksimal levetid for det tillagte scopet med kortest maksimal levetid. Skatteetatens scope vil ha maksimal levetid på 8 timer.</p>
<h3 id="refresh-token-type" style="position:relative"><a href="#refresh-token-type" aria-label="refresh token type permalink" class="anchor before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Refresh token type</h3>
<p>Det kan velges mellom</p>
<ul>
<li>Engangs</li>
<li>Gjenbrukbart
Ved bruk av Engangs refresh tokens vil ID-Porten utstede et nytt refresh token samtidig med utstedelsen av nytt access token. På denne måten vil man kunne utvide den totale levetiden på access tokens.</li>
</ul>
<p>Gjenbrukbare refresh-tokens kan ikke benyttes igjen når levetiden utløper og brukeren må gjennomføre en ny autentisering for å få utstedt et nytt refresh token.</p>
<h2 id="eksempel-på-integrasjon" style="position:relative"><a href="#eksempel-p%C3%A5-integrasjon" aria-label="eksempel på integrasjon permalink" class="anchor before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Eksempel på Integrasjon</h2>
<p>Under finnes en ferdig utfylt integrasjon. Denne kan benyttes av alle typer applikasjoner som kan lytte til <code class="language-text">http://localhost:8988</code>. Å lytte til <code class="language-text">localhost</code> vil for eksempel passe for systemer som er installert på sluttbrukeres personlige datamaskiner. Den vil også passe strålende under utvikling av applikasjonen som skal benytte en Integrasjon.</p>
<p><img src="/mva-meldingen/c5f60edb42b0c7566115ff9b8d6f4ed5/FerdigUtfyltApiIntegrasjon.png"/></p>
<p>Det er verdt å merke seg at selv om det er mulig å ha flere redirect uri-er, så er det for eksempel kun mulig med én Tilbake-uri. Dette vil gjøre det vanskelig å dele Integrasjon mellom domener, applikasjonstyper og utvikling. Lag en ny så fort du ønsker å dele Integrasjonen.</p>
<h2 id="konfigurere-applikasjonen-til-å-bruke-integrasjonen-fra-samarbeidsportalen" style="position:relative"><a href="#konfigurere-applikasjonen-til-%C3%A5-bruke-integrasjonen-fra-samarbeidsportalen" aria-label="konfigurere applikasjonen til å bruke integrasjonen fra samarbeidsportalen permalink" class="anchor before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Konfigurere applikasjonen til å bruke Integrasjonen fra Samarbeidsportalen</h2>
<p>ID-porten autentisering kan implementeres i alle typer sluttbrukersystemer</p>
<ul>
<li>Desktop Applikasjon</li>
<li>Web Applikasjon</li>
<li>SPA</li>
</ul>
<p>under forutsetning av at applikasjonen kan åpne en URL i en nettleser hvor login gjennomføres og samtidig lytte til requests.</p>
<p>Sluttbrukersystemet må gjøre følgende:</p>
<ul>
<li>Starte system browser og gjøre autorisasjonskall mot ID-porten. Les mer om det her: <a href="https://docs.digdir.no/oidc_protocol_authorize.html">https://docs.digdir.no/oidc_protocol_authorize.html</a>, Brukeren blir da sendt til ID-porten for innlogging.</li>
<li>Sette opp en webserver som kan motta en requests til en av uri&#x27;ene Integrasjonens <a href="#gyldige-redirect-uri-er">gyldige redirect uri-er</a>. Etter vellykket pålogging i ID-porten vil browseren redirigeres til denne webserveren. I tilfelle applikasjonen er en SPA, må det settes opp en rute for en av disse uri-ene i stedet for en webserver.</li>
<li>Gjøre et tokenforespørsel. Les mer om det her: <a href="https://docs.digdir.no/oidc_protocol_token.html">https://docs.digdir.no/oidc_protocol_token.html</a></li>
</ul>
<p>Vi benytter følgende testmiljø hos ID-porten:</p>
<ul>
<li>/authorize endpoint: <a href="https://oidc-ver2.difi.no/idporten-oidc-provider/authorize">https://oidc-ver2.difi.no/idporten-oidc-provider/authorize</a></li>
<li>/token endpoint: <a href="https://oidc-ver2.difi.no/idporten-oidc-provider/token">https://oidc-ver2.difi.no/idporten-oidc-provider/token</a></li>
</ul>
<p>For detaljer rundt hvilken HTTP parametere som må sendes med i kallene, se filen <a href="https://github.com/Skatteetaten/mva-meldingen/blob/master/test_with_python_script_files/Steg/hent_idporten_token.py" target="_blank"><code class="language-text">hent_idporten_token.py</code></a></p></div></div></div></div></div></div><div id="gatsby-announcer" style="position:absolute;top:0;width:1px;height:1px;padding:0;overflow:hidden;clip:rect(0, 0, 0, 0);white-space:nowrap;border:0" aria-live="assertive" aria-atomic="true"></div></div><div><div class="footerDecorContainer-51" role="contentinfo"><svg focusable="false" class="footer-decoration-svg" xmlns="http://www.w3.org/2000/svg" width="100%" height="100%" preserveAspectRatio="none" viewBox="0 0 1440 100" version="1.1"><desc></desc><defs></defs><g stroke="none" stroke-width="0" fill="none" fill-rule="evenodd"><g id="bakgrunn"><polygon fill="#C0797E" points="0 99.6400524 1440 99.6400524 1440 69.2255838 0 17.1793194"></polygon><path d="M1440,98 L1440,629 L0,629 L0,98 L1440,0 L1440,98 Z" fill="#6F2C3F"></path></g></g></svg></div><footer class="footerWrapper-49"><div class="footerContent-50"><div class="ske-Grid-42 "><div class="ske-Grid-row-45 "><div class="ske-Grid-col-52 "><div class="ms-Image root-54" style="height:74px"><img src="/mva-meldingen/static/ske-logo-a0e8bc5ad23f41f04a6c4e5655a5174b.svg" alt="Skatteetaten logo" class="ms-Image-image ms-Image-image--portrait is-notLoaded is-fadeIn image-55"/></div></div><div class="ske-Grid-col-56 "><div class="footer-module--footer-links--3jYEG"><div><a href="https://www.skatteetaten.no" target="blank" class="footer-module--footer-link--xomeD" style="margin:10px 0">skatteetaten.no</a></div></div></div></div></div></div></footer></div></div></div><script id="gatsby-script-loader">/*<![CDATA[*/window.pagePath="/documentation/idportenautentisering/";/*]]>*/</script><script id="gatsby-chunk-mapping">/*<![CDATA[*/window.___chunkMapping={"polyfill":["/polyfill-045e083a9b169178088b.js"],"app":["/app-613a9a2d6e4fefa28963.js"],"component---src-pages-404-js":["/component---src-pages-404-js-e4eccf023c99b88d51c9.js"],"component---src-pages-documentation-js":["/component---src-pages-documentation-js-7a12f7f847d2d57df4fc.js"],"component---src-pages-english-js":["/component---src-pages-english-js-2a0e43aefa460e2fb2e1.js"],"component---src-pages-index-js":["/component---src-pages-index-js-6785359cefe453d8ac97.js"],"component---src-pages-kompensasjon-eng-js":["/component---src-pages-kompensasjon-eng-js-0b945be9fca7c21805e0.js"],"component---src-pages-kompensasjon-js":["/component---src-pages-kompensasjon-js-765176106c6bd31e9c60.js"],"component---src-pages-mvameldingen-eng-js":["/component---src-pages-mvameldingen-eng-js-fd97eefde4c37e8d604a.js"],"component---src-pages-mvameldingen-js":["/component---src-pages-mvameldingen-js-f48e3492715ee818a241.js"],"component---src-pages-omvendt-eng-js":["/component---src-pages-omvendt-eng-js-2068bddf46314e43a7e1.js"],"component---src-pages-omvendt-js":["/component---src-pages-omvendt-js-92f97ea7533ffafbada8.js"],"component---src-templates-documentation-template-js":["/component---src-templates-documentation-template-js-42ab96498117f8d371c5.js"]};/*]]>*/</script><script src="/mva-meldingen/polyfill-045e083a9b169178088b.js" nomodule=""></script><script src="/mva-meldingen/component---src-templates-documentation-template-js-42ab96498117f8d371c5.js" async=""></script><script src="/mva-meldingen/b6f0a20a63d6adab58b8c9afc6a4bb63a39e32a5-fe667a4854bb10f452a9.js" async=""></script><script src="/mva-meldingen/styles-29147cbc04bbc833f6a0.js" async=""></script><script src="/mva-meldingen/app-613a9a2d6e4fefa28963.js" async=""></script><script src="/mva-meldingen/framework-bf85aa1381d60e2ab535.js" async=""></script><script src="/mva-meldingen/webpack-runtime-db7daa915bd8c9c84df8.js" async=""></script></body></html>