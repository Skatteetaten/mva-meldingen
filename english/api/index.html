<!DOCTYPE html><html><head><meta charSet="utf-8"/><meta http-equiv="x-ua-compatible" content="ie=edge"/><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"/><style data-href="/mva-meldingen/styles.18cef00622c090c8305e.css" id="gatsby-global-css">.header-module--main-header--312s6:after{display:block;content:"";width:100%;height:12px;background-color:#fff;background-repeat:no-repeat;background-position:50%;background-size:cover;background-image:url("data:image/png;base64,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")}.header-module--main-header-content--1NGLi{display:flex;padding:30px;max-width:1024px;margin:0 auto}.header-module--main-header-wrapper--1p_ZZ{display:flex;justify-content:space-between}.header-module--main-header-button--3oc3D{position:relative;top:-4px}.header-module--main-header-button--3oc3D button{width:100%;background:transparent;border:0;outline:none;flex:0 1}.header-module--main-header-button--3oc3D i{font-size:34px;font-weight:700}.header-module--main-header--312s6 button:hover,button:active,button:focus{cursor:pointer}.header-module--main-header-nav--2v13z{max-width:900px}.header-module--main-header-menu--1McU5{display:flex;list-style-type:none;font-weight:700;padding-left:0;text-align:center}.header-module--main-header-logo--2kJpu img{height:68px}.header-module--main-header-menu--1McU5 li{flex:1 1;margin-left:30px}.header-module--main-header-menu-active--2ptLO{padding-bottom:2px;border-bottom:4px solid #6f2c3f!important}.header-module--main-header-menu--1McU5 a{white-space:nowrap;color:#000;border:0;border-color:transparent;transition:border-color .5s}.header-module--main-header-menu--1McU5 a:hover,a:active,a:focus{border-bottom:4px solid #6f2c3f;outline:none;padding-bottom:2px;transition:border-color .5s}@media (min-width:1024px){.header-module--main-header--312s6 button{display:none}}@media (max-width:1023px){.header-module--main-header-nav-hidden--yl-vp{background:green;display:none}.header-module--main-header-nav--2v13z{max-width:100%}.header-module--main-header-content--1NGLi{flex-direction:column}.header-module--main-header-menu--1McU5{flex-direction:column;margin:20px 0 0}.header-module--main-header-menu--1McU5 li{margin-left:0}.header-module--main-header-logo--2kJpu img{height:40px}.header-module--main-header-menu--1McU5 li a{display:block;border-bottom:2px solid #eee;padding:.5rem 0}.header-module--main-header-menu--1McU5 a:hover,a:active,a:focus{padding:.5rem 0;border-bottom:2px solid #eee;text-decoration:none;background-color:#cde1f9}.header-module--main-header-menu-active--2ptLO{background-color:#cde1f9}}.footer-module--footer-link--xomeD img{margin-right:16px}.footer-module--footer-link--xomeD{display:flex;color:#fff;align-items:center;font-weight:700;border:0}.footer-module--footer-link--xomeD:hover{text-decoration:underline}.footer-module--footer-link--xomeD:active,.footer-module--footer-link--xomeD:focus{border:0}.footer-module--footer-links--3jYEG h3{margin-top:0}@media (max-width:1000px){.footer-module--footer-links--3jYEG{margin-top:30px}.footer-module--logo--2eVZt img{margin:0 auto}}code[class*=language-],pre[class*=language-]{color:#000;background:none;text-shadow:0 1px #fff;font-family:Consolas,Monaco,Andale Mono,Ubuntu Mono,monospace;font-size:1em;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;word-wrap:normal;line-height:1.5;tab-size:4;-webkit-hyphens:none;hyphens:none}code[class*=language-]::selection,code[class*=language-] ::selection,pre[class*=language-]::selection,pre[class*=language-] ::selection{text-shadow:none;background:#b3d4fc}@media print{code[class*=language-],pre[class*=language-]{text-shadow:none}}pre[class*=language-]{padding:1em;margin:.5em 0;overflow:auto}:not(pre)>code[class*=language-]{padding:.1em;border-radius:.3em;white-space:normal}.token.cdata,.token.comment,.token.doctype,.token.prolog{color:#708090}.token.punctuation{color:#999}.token.namespace{opacity:.7}.token.boolean,.token.constant,.token.deleted,.token.number,.token.property,.token.symbol,.token.tag{color:#905}.token.attr-name,.token.builtin,.token.char,.token.inserted,.token.selector,.token.string{color:#690}.language-css .token.string,.style .token.string,.token.entity,.token.operator,.token.url{color:#9a6e3a;background:hsla(0,0%,100%,.5)}.token.atrule,.token.attr-value,.token.keyword{color:#07a}.token.class-name,.token.function{color:#dd4a68}.token.important,.token.regex,.token.variable{color:#e90}.token.bold,.token.important{font-weight:700}.token.italic{font-style:italic}.token.entity{cursor:help}html{font-family:Helvetica Neue,Helvetica,Arial,sans-serif;font-size:16px}body{margin:0;line-height:1.5;display:none}@media (min-width:900px){body{font-size:1.0625rem}}img{max-width:100%}.gatsby-highlight pre{max-width:min(992px,80vw);overflow-x:auto}a{color:#1362ae;text-decoration:none;padding-bottom:1px;border-bottom:2px solid rgba(19,98,174,.25)}a,a:focus,a:hover{transition:border-color .5s}a:focus,a:hover{outline:none;border-color:#1362ae}button::-moz-focus-inner{border:0}code{font-size:15px}:not(pre)>code[class*=language-],pre[class*=language-]{background:#f5f2f0}table{width:100%;margin-top:20px;border-collapse:collapse;padding-left:24px}tr{border-bottom:1px solid #bbb;height:56px;transition:background-color .3s ease;vertical-align:top;line-height:32px}tbody tr:nth-child(odd){background:rgba(249,237,226,.4)}thead tr{text-transform:capitalize;border-bottom:2px solid #bbb}td,th{font-size:17px;text-align:left;position:relative;padding:10px}td a{border:none}td:first-child,td:last-child,th:first-child,th:last-child{padding-left:16px}th{font-size:15px}a.anchor{border:none}.table-of-contents-module--toc--bptuj ul{list-style-type:none}.table-of-contents-module--toc--bptuj ul>li{position:relative;margin:5px 0}.table-of-contents-module--toc--bptuj ul>li>a{display:block;border:0;outline:0;transition:none;font-size:.975rem;font-weight:700}.table-of-contents-module--toc--bptuj ul li>a:active,.table-of-contents-module--toc--bptuj ul li>a:focus,.table-of-contents-module--toc--bptuj ul li>a:hover{font-weight:700;outline:0;transition:none;text-decoration:underline}.table-of-contents-module--toc--bptuj ul li>i{font-weight:700;color:#0f68a3;font-size:15px;margin-right:5px}.table-of-contents-module--toc-level--BRHM6{display:flex}.table-of-contents-module--toc-level-2--sO0PN{padding-left:15px}.table-of-contents-module--toc-level-3--f8SE5,.table-of-contents-module--toc-level-4--1ghIJ,.table-of-contents-module--toc-level-5--32egW,.table-of-contents-module--toc-level-6--3nbd4{padding-left:30px}.documentation-template-module--breadcrumb--36CqB{padding-top:15px}.documentation-template-module--breadcrumb--36CqB a{border:none}.documentation-template-module--documentation-container--3kpwN img{max-width:100%;max-height:100%}</style><meta name="generator" content="Gatsby 2.32.13"/><title data-react-helmet="true">Mva-meldingen</title><link data-react-helmet="true" href="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAA/xpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuNi1jMTExIDc5LjE1ODMyNSwgMjAxNS8wOS8xMC0wMToxMDoyMCAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wTU09Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9tbS8iIHhtbG5zOnN0UmVmPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvc1R5cGUvUmVzb3VyY2VSZWYjIiB4bWxuczp4bXA9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC8iIHhtbG5zOmRjPSJodHRwOi8vcHVybC5vcmcvZGMvZWxlbWVudHMvMS4xLyIgeG1wTU06T3JpZ2luYWxEb2N1bWVudElEPSJ1dWlkOjVEMjA4OTI0OTNCRkRCMTE5MTRBODU5MEQzMTUwOEM4IiB4bXBNTTpEb2N1bWVudElEPSJ4bXAuZGlkOkE4RTkxRThBMUQ3QjExRTZCQ0ZFRkI2MTNBNjgyNUJCIiB4bXBNTTpJbnN0YW5jZUlEPSJ4bXAuaWlkOkE4RTkxRTg5MUQ3QjExRTZCQ0ZFRkI2MTNBNjgyNUJCIiB4bXA6Q3JlYXRvclRvb2w9IkFkb2JlIElsbHVzdHJhdG9yIENDIDIwMTUgKE1hY2ludG9zaCkiPiA8eG1wTU06RGVyaXZlZEZyb20gc3RSZWY6aW5zdGFuY2VJRD0idXVpZDowZWM3MjY1OC1hYTYwLTllNDUtOGZjNy1hYTIxMjQ1MzA5ODgiIHN0UmVmOmRvY3VtZW50SUQ9InhtcC5kaWQ6MjhmZjUyYWQtM2EyMC00MTc3LWJiZDItNjk5NmUyOWE1MzQ3Ii8+IDxkYzp0aXRsZT4gPHJkZjpBbHQ+IDxyZGY6bGkgeG1sOmxhbmc9IngtZGVmYXVsdCI+U3ltYl9TS0VfQ01ZSzwvcmRmOmxpPiA8L3JkZjpBbHQ+IDwvZGM6dGl0bGU+IDwvcmRmOkRlc2NyaXB0aW9uPiA8L3JkZjpSREY+IDwveDp4bXBtZXRhPiA8P3hwYWNrZXQgZW5kPSJyIj8+PBoJ2wAAAzZJREFUeNrsV0lPU1EU/t6jLWMDgpH2ARZaMFIJSQ2JRRkCbCxEE8YQNwQ2DvwBQwxLidGFmiDVP2CIUIclhoCRFTEaUTfYigllaqHUVqTQ4Xrvi6JIh4dCGhNOctrk9dxzvnfP/b5zy+k0+XMAlIiPeWX0Q0D8TMkzFHEE4OURZzsAEHcAsr9dqJDLsby8AqfbBTk4JKekIDU1FSn0m+M4EEL2F4Db8wX6Ej10ukKsrq5icWEBLtcKWF2/3w+e5/cXwILDgSvd3bjW27v1zD47i7qaWng8HmRkZOwNALadzHw+n/imaxu+XwXt9m2xfdf7YLVZkSvkSG6DLFrhBD4BS44luL96kZWeAYPBAMNJA4r1esgTE1FWVrYV397aisGhIeQcyRbbwUprNBoxTygU2h0A1r9AIADr5xkUaXW42tMDU0M9SktLwyZpa27BI8swGs+dx41bNzH1dgoD/f0YfTGO7KzDYjtYvrBGh5GHOvnphfkFJD83j70A6ezoIMtOJ4lkbrebtDW1iLHVlVWEtmnb73dv3yEyjiOZ6enkmFZHfq/zwz07ABQVaMWEly9eIrHsscUixp42Gol/czNsjGV4mMg5nhxVC2EB7OCK0+FE6YkS3DMPxDxAH969hyYvD6NjY5BRXQhnjU1N6Ozqgn1hXpoSute8qK2rlUSh6poavJyYQFJSUtS4s/UmsGMYjhU7DiEjnYsqnBSrqKyQFOdaWZE+CwRKoyfPnuLj9PSe6b15wIy05OQtTYkKIDUtDRsbG2gwmWCzWv+5+IX2drx68xqCSi1tB4LBIAo0+Zj5NIPyU0Y8MN8XVXC39nxkBGeM5Xg4OMiYhlAEVeRELoa5lMpkMjio3q96PSIrmpqbUVVdhePFxVCpVDu2001l2mazYXJyEpahYYxTZrCIAq1WVMIIsuyNCEDcHo6nC0NwOJ3wfFtDslwBQRCgVqtxKDMTiQoFAnTH2PBZWlzE3NycKNsKuk7IyYGcUjOaDMcE8OdsYGN2fX1d9E16ToI0OU+fs0JJ9JCxu4CCgtrFfcAreRyzhKwtSqVS9FixB3fCAwD/FQBlHOsrGQ3n4/n3/LsAAwC3vqT092HM6wAAAABJRU5ErkJggg==" rel="shortcut icon"/><style type="text/css">
    .anchor.before {
      position: absolute;
      top: 0;
      left: 0;
      transform: translateX(-100%);
      padding-right: 4px;
    }
    .anchor.after {
      display: inline-block;
      padding-left: 4px;
    }
    h1 .anchor svg,
    h2 .anchor svg,
    h3 .anchor svg,
    h4 .anchor svg,
    h5 .anchor svg,
    h6 .anchor svg {
      visibility: hidden;
    }
    h1:hover .anchor svg,
    h2:hover .anchor svg,
    h3:hover .anchor svg,
    h4:hover .anchor svg,
    h5:hover .anchor svg,
    h6:hover .anchor svg,
    h1 .anchor:focus svg,
    h2 .anchor:focus svg,
    h3 .anchor:focus svg,
    h4 .anchor:focus svg,
    h5 .anchor:focus svg,
    h6 .anchor:focus svg {
      visibility: visible;
    }
  </style><script>
    document.addEventListener("DOMContentLoaded", function(event) {
      var hash = window.decodeURI(location.hash.replace('#', ''))
      if (hash !== '') {
        var element = document.getElementById(hash)
        if (element) {
          var scrollTop = window.pageYOffset || document.documentElement.scrollTop || document.body.scrollTop
          var clientTop = document.documentElement.clientTop || document.body.clientTop || 0
          var offset = element.getBoundingClientRect().top + scrollTop - clientTop
          // Wait for the browser to finish rendering before scrolling.
          setTimeout((function() {
            window.scrollTo(0, offset - 0)
          }), 0)
        }
      }
    })
  </script><link as="script" rel="preload" href="/mva-meldingen/webpack-runtime-cb4adb9d734b46ee9d09.js"/><link as="script" rel="preload" href="/mva-meldingen/framework-bf85aa1381d60e2ab535.js"/><link as="script" rel="preload" href="/mva-meldingen/app-659d2f3b69be747e7115.js"/><link as="script" rel="preload" href="/mva-meldingen/styles-29147cbc04bbc833f6a0.js"/><link as="script" rel="preload" href="/mva-meldingen/b6f0a20a63d6adab58b8c9afc6a4bb63a39e32a5-769e15cd0ca2a024a30d.js"/><link as="script" rel="preload" href="/mva-meldingen/component---src-templates-documentation-template-js-0dc329877c77fa028cc9.js"/><link as="fetch" rel="preload" href="/mva-meldingen/page-data/english/api/page-data.json" crossorigin="anonymous"/><link as="fetch" rel="preload" href="/mva-meldingen/page-data/sq/d/270254161.json" crossorigin="anonymous"/><link as="fetch" rel="preload" href="/mva-meldingen/page-data/app-data.json" crossorigin="anonymous"/></head><body><div id="___gatsby"><div class="ms-Fabric root-36"><div><div style="margin-bottom:35px" class="header-module--main-header--312s6"><div class="header-module--main-header-content--1NGLi"><div class="header-module--main-header-wrapper--1p_ZZ"><div><div class="ms-Image header-module--main-header-logo--2kJpu root-38"><img src="/mva-meldingen/static/ske-logo-7d479f293e61a007b36e122c48735bae.svg" class="ms-Image-image ms-Image-image--portrait is-notLoaded is-fadeIn image-39"/></div></div><div class="header-module--main-header-button--3oc3D"><button><i data-icon-name="Menu" aria-hidden="true" class="root-41"></i></button></div></div><nav class="header-module--main-header-nav--2v13z header-module--main-header-nav-hidden--yl-vp"><ul class="header-module--main-header-menu--1McU5"><li><a href="/mva-meldingen/">Modernisering av Mva-området</a></li><li><a href="/mva-meldingen/documentation">Felles </a></li><li><a href="/mva-meldingen/mvameldingen">Mva-meldingen </a></li><li><a href="/mva-meldingen/kompensasjon">Kompensasjonsmeldingen</a></li><li><a href="/mva-meldingen/omvendt">Omvendt avgiftsplikt</a></li><li><a href="/mva-meldingen/english">Documentation in English</a></li></ul></nav></div></div></div><div style="display:flex;padding:30px;max-width:1024px;margin:0 auto"><div style="outline:none" tabindex="-1" id="gatsby-focus-wrapper"><div class="ske-Grid-42 "><div class="ske-Grid-row-45 "><div class="ske-Grid-col-46 "><h1>API</h1><nav class="table-of-contents-module--toc--bptuj"><ul><li class="table-of-contents-module--toc-level--BRHM6"><i data-icon-name="ArrowDown" aria-hidden="true" class="root-48"></i><a href="/mva-meldingen/english/api/#vat-return-validation-and-submission-api">VAT return Validation and Submission API</a></li><li class="table-of-contents-module--toc-level--BRHM6 table-of-contents-module--toc-level-2--sO0PN"><i data-icon-name="ArrowDown" aria-hidden="true" class="root-48"></i><a href="/mva-meldingen/english/api/#changelog">Changelog</a></li><li class="table-of-contents-module--toc-level--BRHM6 table-of-contents-module--toc-level-2--sO0PN"><i data-icon-name="ArrowDown" aria-hidden="true" class="root-48"></i><a href="/mva-meldingen/english/api/#introduction">Introduction</a></li><li class="table-of-contents-module--toc-level--BRHM6 table-of-contents-module--toc-level-2--sO0PN"><i data-icon-name="ArrowDown" aria-hidden="true" class="root-48"></i><a href="/mva-meldingen/english/api/#overall-process-for-submission-and-validating-vat-return">Overall process for Submission and validating VAT return</a></li><li class="table-of-contents-module--toc-level--BRHM6 table-of-contents-module--toc-level-2--sO0PN"><i data-icon-name="ArrowDown" aria-hidden="true" class="root-48"></i><a href="/mva-meldingen/english/api/#authentication">Authentication</a></li><li class="table-of-contents-module--toc-level--BRHM6 table-of-contents-module--toc-level-3--f8SE5"><i data-icon-name="ArrowDown" aria-hidden="true" class="root-48"></i><a href="/mva-meldingen/english/api/#change-id-porten-token-to-the-altinn-token">Change ID-Porten token to the Altinn token</a></li><li class="table-of-contents-module--toc-level--BRHM6 table-of-contents-module--toc-level-2--sO0PN"><i data-icon-name="ArrowDown" aria-hidden="true" class="root-48"></i><a href="/mva-meldingen/english/api/#validate-tax-return">Validate tax return</a></li><li class="table-of-contents-module--toc-level--BRHM6 table-of-contents-module--toc-level-3--f8SE5"><i data-icon-name="ArrowDown" aria-hidden="true" class="root-48"></i><a href="/mva-meldingen/english/api/#response">Response</a></li><li class="table-of-contents-module--toc-level--BRHM6 table-of-contents-module--toc-level-2--sO0PN"><i data-icon-name="ArrowDown" aria-hidden="true" class="root-48"></i><a href="/mva-meldingen/english/api/#create-instance">Create Instance</a></li><li class="table-of-contents-module--toc-level--BRHM6 table-of-contents-module--toc-level-3--f8SE5"><i data-icon-name="ArrowDown" aria-hidden="true" class="root-48"></i><a href="/mva-meldingen/english/api/#response-1">Response</a></li><li class="table-of-contents-module--toc-level--BRHM6 table-of-contents-module--toc-level-3--f8SE5"><i data-icon-name="ArrowDown" aria-hidden="true" class="root-48"></i><a href="/mva-meldingen/english/api/#error-messages">Error messages</a></li><li class="table-of-contents-module--toc-level--BRHM6 table-of-contents-module--toc-level-2--sO0PN"><i data-icon-name="ArrowDown" aria-hidden="true" class="root-48"></i><a href="/mva-meldingen/english/api/#upload-vat-return-submission">Upload VAT return submission</a></li><li class="table-of-contents-module--toc-level--BRHM6 table-of-contents-module--toc-level-3--f8SE5"><i data-icon-name="ArrowDown" aria-hidden="true" class="root-48"></i><a href="/mva-meldingen/english/api/#error-messages-1">Error Messages</a></li><li class="table-of-contents-module--toc-level--BRHM6 table-of-contents-module--toc-level-2--sO0PN"><i data-icon-name="ArrowDown" aria-hidden="true" class="root-48"></i><a href="/mva-meldingen/english/api/#upload-vat-return">Upload VAT return</a></li><li class="table-of-contents-module--toc-level--BRHM6 table-of-contents-module--toc-level-3--f8SE5"><i data-icon-name="ArrowDown" aria-hidden="true" class="root-48"></i><a href="/mva-meldingen/english/api/#error-messages-2">Error Messages</a></li><li class="table-of-contents-module--toc-level--BRHM6 table-of-contents-module--toc-level-2--sO0PN"><i data-icon-name="ArrowDown" aria-hidden="true" class="root-48"></i><a href="/mva-meldingen/english/api/#upload-attachments">Upload Attachments</a></li><li class="table-of-contents-module--toc-level--BRHM6 table-of-contents-module--toc-level-3--f8SE5"><i data-icon-name="ArrowDown" aria-hidden="true" class="root-48"></i><a href="/mva-meldingen/english/api/#error-messages-3">Error Messages</a></li><li class="table-of-contents-module--toc-level--BRHM6 table-of-contents-module--toc-level-2--sO0PN"><i data-icon-name="ArrowDown" aria-hidden="true" class="root-48"></i><a href="/mva-meldingen/english/api/#complete-data-filling">Complete Data Filling</a></li><li class="table-of-contents-module--toc-level--BRHM6 table-of-contents-module--toc-level-3--f8SE5"><i data-icon-name="ArrowDown" aria-hidden="true" class="root-48"></i><a href="/mva-meldingen/english/api/#error-messages-4">Error Messages</a></li><li class="table-of-contents-module--toc-level--BRHM6 table-of-contents-module--toc-level-2--sO0PN"><i data-icon-name="ArrowDown" aria-hidden="true" class="root-48"></i><a href="/mva-meldingen/english/api/#complete-vat-return-submission">Complete vat-return submission</a></li><li class="table-of-contents-module--toc-level--BRHM6 table-of-contents-module--toc-level-3--f8SE5"><i data-icon-name="ArrowDown" aria-hidden="true" class="root-48"></i><a href="/mva-meldingen/english/api/#error-messages-5">Error Messages</a></li><li class="table-of-contents-module--toc-level--BRHM6 table-of-contents-module--toc-level-3--f8SE5"><i data-icon-name="ArrowDown" aria-hidden="true" class="root-48"></i><a href="/mva-meldingen/english/api/#payment-information-available">Payment information available</a></li><li class="table-of-contents-module--toc-level--BRHM6 table-of-contents-module--toc-level-2--sO0PN"><i data-icon-name="ArrowDown" aria-hidden="true" class="root-48"></i><a href="/mva-meldingen/english/api/#retrieve-feedback">Retrieve feedback</a></li><li class="table-of-contents-module--toc-level--BRHM6 table-of-contents-module--toc-level-3--f8SE5"><i data-icon-name="ArrowDown" aria-hidden="true" class="root-48"></i><a href="/mva-meldingen/english/api/#error-messages-6">Error Messages</a></li><li class="table-of-contents-module--toc-level--BRHM6 table-of-contents-module--toc-level-3--f8SE5"><i data-icon-name="ArrowDown" aria-hidden="true" class="root-48"></i><a href="/mva-meldingen/english/api/#feedback-files">Feedback files</a></li></ul></nav><div class="documentation-template-module--documentation-container--3kpwN"><div><h1 id="vat-return-validation-and-submission-api" style="position:relative"><a href="#vat-return-validation-and-submission-api" aria-label="vat return validation and submission api permalink" class="anchor before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>VAT return Validation and Submission API</h1>
<h2 id="changelog" style="position:relative"><a href="#changelog" aria-label="changelog permalink" class="anchor before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Changelog</h2>













































<table><thead><tr><th style="text-align:left">Dato</th><th style="text-align:left">Hva ble endret?</th></tr></thead><tbody><tr><td style="text-align:left">2021.06.17</td><td style="text-align:left">Updated documentation for <a href="#retrieve-feedback">feedback</a>.</td></tr><tr><td style="text-align:left">2021.07.05</td><td style="text-align:left">Corrected the datatype for when uploading attachments.</td></tr><tr><td style="text-align:left">2021.08.03</td><td style="text-align:left">Changed the URL for validation to the correct value</td></tr><tr><td style="text-align:left">2021.11.04</td><td style="text-align:left">Updated URL for validation service</td></tr><tr><td style="text-align:left">2021.11.08</td><td style="text-align:left">Updated validation error list</td></tr><tr><td style="text-align:left">2021.11.11</td><td style="text-align:left">Updated error messages when filing submission</td></tr><tr><td style="text-align:left">2021.12.08</td><td style="text-align:left">Updated valid content type for binaerVedlegg</td></tr><tr><td style="text-align:left">2022.06.30</td><td style="text-align:left">Changes in connection with the expansion of documentation for other return types</td></tr><tr><td style="text-align:left">2022.08.06</td><td style="text-align:left">Added new conflict error message for duplicate file names</td></tr></tbody></table>
<h2 id="introduction" style="position:relative"><a href="#introduction" aria-label="introduction permalink" class="anchor before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Introduction</h2>
<p>The APIs function for the following categories of tax return: VAT-return (RF-0002/0004), VAT-return for reverse liability (RF-0005) and tax return for VAT compensation (RF-0009). When these types of returns are submitted to the Tax Authority from an end-user system (SBS) these APIs should be used:</p>
<ol>
<li>Skatteetaten VAT return Validation API</li>
<li>Skatteetaten Altinn3 VAT-Return-Submission API</li>
</ol>
<p>In the API description the VAT-return is used as a collective term for the various types of returns. The APIs are described below.</p>
<h2 id="overall-process-for-submission-and-validating-vat-return" style="position:relative"><a href="#overall-process-for-submission-and-validating-vat-return" aria-label="overall process for submission and validating vat return permalink" class="anchor before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Overall process for Submission and validating VAT return</h2>
<p>Submission of VAT-returns are done with the Skatteetaten
Altinn3 App Instance API. The Instance API is a generic Altinn Api and its detailed description can be found here <a href="https://docs.altinn.studio/teknologi/altinnstudio/altinn-api/app-api/instances/" target="_blank">Instance API</a>. In-depth knowledge of this API is not required as this documentation
covers the needed sequence for submitting VAT returns.</p>
<p>It is recommended to use the <a href="https://skd.apps.tt02.altinn.no/skd/mva-melding-innsending-etm2/swagger/index.html" target="_blank">swagger documentation</a> along with this API description.</p>
<p>In addition, there are a Python script examples of VAT return filing here: <a href="https://skatteetaten.github.io/mva-meldingen/mvameldingen_eng/test/" target="_blank">Test</a></p>
<p>The submission process is performed with a sequence of calls to the Instance API and is described in detail below the sequence diagram, and it is as follows:</p>
<ol>
<li>
<p>Authentication</p>
<ul>
<li>Change ID-Porten token to Altinn token</li>
</ul>
</li>
<li>Validation</li>
<li>
<p>Data filling towards Altinn3-App</p>
<ul>
<li>Create instance towards Altinn3-App</li>
<li>Upload vat-return submission towards Altinn3-App</li>
<li>Upload vat-return towards Altinn3-App</li>
<li>Upload attachements towards Altinn3-App</li>
</ul>
</li>
<li>Complete data filling towards Altinn3-App</li>
<li>Complete submission towards Altinn3-App</li>
<li>Retrieve feedback towards Altinn3-App</li>
</ol>
<p>The Instance VAT Filing API is available at this URL:</p>
<div class="gatsby-highlight" data-language="text"><pre class="language-text"><code class="language-text">instanceApiUrl = &quot;https://skd.apps.tt02.altinn.no/skd/mva-melding-innsending-etm2/instances&quot;</code></pre></div>
<p>In the following sequence diagram, the application URL will be hidden, so if <code class="language-text">POST: /intances/</code> is written it is
implicitly <code class="language-text">POST: instanceApiUrl</code></p>
<p><img src="/mva-meldingen/e3870fa0e73d772575d798f81dd25c31/Vat-Return-Submission-Sequence-Diagram.png"/></p>
<h2 id="authentication" style="position:relative"><a href="#authentication" aria-label="authentication permalink" class="anchor before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Authentication</h2>
<h3 id="change-id-porten-token-to-the-altinn-token" style="position:relative"><a href="#change-id-porten-token-to-the-altinn-token" aria-label="change id porten token to the altinn token permalink" class="anchor before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Change ID-Porten token to the Altinn token</h3>
<p>To change ID-Porten token, make the following calls:</p>
<div class="gatsby-highlight" data-language="json"><pre class="language-json"><code class="language-json">GET `https<span class="token operator">:</span><span class="token comment">//platform.tt02.altinn.no/authentication/api/v1/exchange/id-porten`</span>
    HEADERS<span class="token operator">:</span>
        <span class="token property">&quot;Authorization&quot;</span><span class="token operator">:</span> <span class="token string">&quot;Bearer &quot;</span> + <span class="token string">&quot;{IDPortenToken}&quot;</span>
           <span class="token property">&quot;content-type&quot;</span><span class="token operator">:</span> <span class="token string">&quot;application/json&quot;</span></code></pre></div>
<p>and the response content will be a brand new altinnToken used as the
Bearer token in the subsequent requests. The token currently has a duration of 8 hours. Later in 2021, Altinn3 will offer refresh tokens so that one login can last for up to 3 months.</p>
<h2 id="validate-tax-return" style="position:relative"><a href="#validate-tax-return" aria-label="validate tax return permalink" class="anchor before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Validate tax return</h2>
<p>The service validates the content of a tax return and returns a response
with any errors, deviations and warnings. The service will do the
following:</p>
<ol>
<li>Check the message format.</li>
<li>Control the content and composition of the elements in the VAT
return.</li>
</ol>
<p>Skatteetaten assumes that the validation service is called in
advance of submitting the VAT return. This ensures that the VAT return
has the correct format, content and increases the probability that
the VAT return will be approved upon submission.</p>
<p><strong>URL</strong> : <code class="language-text">POST https://&lt;env&gt;/api/mva/grensesnittstoette/mva-melding/valider</code></p>
<p>Where <code class="language-text">&lt;env&gt;</code>is an environment-specific address
e.g.<code class="language-text">idporten-api-sbstest.sits.no</code></p>
<p><strong>Body</strong> :</p>
<ul>
<li>According to XSD:<a href="https://github.com/Skatteetaten/mva-meldingen/tree/master/docs/informasjonsmodell_filer/xsd/no.skatteetaten.fastsetting.avgift.mva.skattemeldingformerverdiavgift.v1.0.xsd" target="_blank">Skattemeldingformerverdiavgift.v1.0</a></li>
</ul>
<p><strong>Example</strong> : Submitting XML in invalid format</p>
<p>POST <a href="https://idporten-api-sbstest.sits.no/api/mva/grensesnittstoette/mva-melding/valider">https://idporten-api-sbstest.sits.no/api/mva/grensesnittstoette/mva-melding/valider</a></p>
<p>Header: <code class="language-text">Content-Type: application/xml</code></p>
<p>With content (http body) that does not pass <a href="https://github.com/Skatteetaten/mva-meldingen/tree/master/docs/informasjonsmodell_filer/xsd/no.skatteetaten.fastsetting.avgift.mva.skattemeldingformerverdiavgift.v1.0.xsd" target="_blank">XSD</a> validation:</p>
<div class="gatsby-highlight" data-language="xml"><pre class="language-xml"><code class="language-xml"><span class="token prolog">&lt;?xml version=&#x27;1.0&#x27; encoding=&#x27;UTF-8&#x27;?&gt;</span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>mvaMeldingDto</span> <span class="token attr-name">xmlns</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>no:skatteetaten:fastsetting:avgift:mva:skattemeldingformerverdiavgift:v1.0<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>

    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>mvaMeldingDto</span><span class="token punctuation">&gt;</span></span></code></pre></div>
<h3 id="response" style="position:relative"><a href="#response" aria-label="response permalink" class="anchor before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Response</h3>
<p>status: 200
Content (body)</p>
<div class="gatsby-highlight" data-language="xml"><pre class="language-xml"><code class="language-xml"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>valideringsresultat</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>status</span><span class="token punctuation">&gt;</span></span>UGYLDIG_SKATTEMELDING<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>status</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>valideringsfeil</span><span class="token punctuation">&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>stiTilFeil</span><span class="token punctuation">&gt;</span></span>//innsending<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>stiTilFeil</span><span class="token punctuation">&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>valideringsDetaljer</span><span class="token punctuation">&gt;</span></span>
                <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>feilmelding</span><span class="token punctuation">&gt;</span></span>Mva meldingen må være på gyldig format og passere XML skjema valideringen<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>feilmelding</span><span class="token punctuation">&gt;</span></span>
                <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>alvorlighetsgrad</span><span class="token punctuation">&gt;</span></span>UGYLDIG_SKATTEMELDING<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>alvorlighetsgrad</span><span class="token punctuation">&gt;</span></span>
                <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>avvikKode</span><span class="token punctuation">&gt;</span></span>MvaMeldingsinnhold_Xml_SkjemaValideringsfeil<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>avvikKode</span><span class="token punctuation">&gt;</span></span>
                <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>informasjon</span><span class="token punctuation">&gt;</span></span>cvc-complex-type.2.4.b: The content of element &#x27;mvaMeldingDto&#x27; is not complete. One of
                    &#x27;{&quot;no:skatteetaten:fastsetting:avgift:mva:skattemeldingformerverdiavgift:v1.0&quot;:innsending}&#x27; is expected.
                <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>informasjon</span><span class="token punctuation">&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>valideringsDetaljer</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>valideringsfeil</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>valideringsresultat</span><span class="token punctuation">&gt;</span></span></code></pre></div>
<h2 id="create-instance" style="position:relative"><a href="#create-instance" aria-label="create instance permalink" class="anchor before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Create Instance</h2>
<p>An instance is an object in altinn that follows the process and the data model defined by the application. Skatteetaten has a VAT-Return-Submission application which has a process with currently three
steps for submitting. The steps are uploading data, confirm and feedback.</p>
<p>In addition to being an object, an instance has a data object defined by a data model in the app.</p>
<p>Once an instance is created, it will be possible to update the data
object of the instance and add other data objects to the app&#x27;s data
model. This is done in the next step.</p>
<p>To create an instance, you perform a POST request at the instanceApiUrl with an
<code class="language-text">instanceOwner</code> object where you enter the organization
number for the organization that a VAT return is to be sent on behalf of:</p>
<div class="gatsby-highlight" data-language="json"><pre class="language-json"><code class="language-json">POST <span class="token punctuation">{</span>instanceApiUrl<span class="token punctuation">}</span>
    HEADERS<span class="token operator">:</span>
        <span class="token property">&quot;Authorization&quot;</span><span class="token operator">:</span> <span class="token string">&quot;Bearer &quot;</span> + <span class="token string">&quot;{altinnToken}&quot;</span>
        <span class="token property">&quot;content-type&quot;</span><span class="token operator">:</span> <span class="token string">&quot;application/json&quot;</span>
    CONTENT/BODY<span class="token operator">:</span>
        <span class="token punctuation">{</span>
            <span class="token property">&quot;instanceOwner&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
                <span class="token property">&quot;organisationNumber&quot;</span><span class="token operator">:</span> <span class="token string">&quot;{organizationNumber}&quot;</span>
                <span class="token punctuation">}</span>
        <span class="token punctuation">}</span></code></pre></div>
<p>This request will create the instance and return the following response</p>
<h3 id="response-1" style="position:relative"><a href="#response-1" aria-label="response 1 permalink" class="anchor before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Response</h3>
<div class="gatsby-highlight" data-language="json"><pre class="language-json"><code class="language-json">Response HTTPCode<span class="token operator">:</span> <span class="token number">201</span> (OK)
    Content<span class="token operator">:</span>
    <span class="token punctuation">{</span>
        <span class="token property">&quot;id&quot;</span><span class="token operator">:</span> <span class="token string">&quot;{partyId}/{instanceGuid}&quot;</span><span class="token punctuation">,</span>
        <span class="token property">&quot;instanceOwner&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
            <span class="token property">&quot;partyId&quot;</span><span class="token operator">:</span> <span class="token string">&quot;{partyId}&quot;</span><span class="token punctuation">,</span>
            <span class="token property">&quot;organisationNumber&quot;</span><span class="token operator">:</span> <span class="token string">&quot;{organizationNumber}&quot;</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token property">&quot;appId&quot;</span><span class="token operator">:</span> <span class="token string">&quot;skd/{ApplicationName}&quot;</span><span class="token punctuation">,</span>
        <span class="token property">&quot;org&quot;</span><span class="token operator">:</span> <span class="token string">&quot;skd&quot;</span><span class="token punctuation">,</span>
        <span class="token property">&quot;selfLinks&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
            <span class="token property">&quot;apps&quot;</span><span class="token operator">:</span> <span class="token string">&quot;{instanceUrl}&quot;</span><span class="token punctuation">,</span> <span class="token comment">// the instanceUrl for the app</span>
            <span class="token property">&quot;platform&quot;</span><span class="token operator">:</span> <span class="token string">&quot;{platformUrl}&quot;</span> <span class="token comment">// the altinn3 plattform url for the instance</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token property">&quot;data&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span>
            <span class="token punctuation">{</span>
                <span class="token property">&quot;id&quot;</span><span class="token operator">:</span> <span class="token string">&quot;{dataGuid}&quot;</span><span class="token punctuation">,</span> <span class="token comment">// {dataGuid} can be used in the next step</span>
                <span class="token property">&quot;instanceGuid&quot;</span><span class="token operator">:</span> <span class="token string">&quot;{instanceGuid}&quot;</span><span class="token punctuation">,</span>
                <span class="token property">&quot;dataType&quot;</span><span class="token operator">:</span> <span class="token string">&quot;no.skatteetaten.fastsetting.avgift.mva.mvameldinginnsending.v0.1&quot;</span><span class="token punctuation">,</span>
                <span class="token property">&quot;contentType&quot;</span><span class="token operator">:</span> <span class="token string">&quot;application/xml&quot;</span><span class="token punctuation">,</span>
                <span class="token property">&quot;blobStoragePath&quot;</span><span class="token operator">:</span> <span class="token string">&quot;skd/{ApplicationName}/{instanceGuid}/data/{dataGuid}&quot;</span><span class="token punctuation">,</span>
                <span class="token property">&quot;selfLinks&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
                    <span class="token property">&quot;apps&quot;</span><span class="token operator">:</span> <span class="token string">&quot;{instanceDataAppUrl}&quot;</span><span class="token punctuation">,</span> <span class="token comment">// {instanceDataAppUrl} can be used in the next step</span>
                    <span class="token property">&quot;platform&quot;</span><span class="token operator">:</span> <span class="token string">&quot;{instanceDataPlatformUrl}&quot;</span>
                <span class="token punctuation">}</span><span class="token punctuation">,</span>
                <span class="token property">&quot;size&quot;</span><span class="token operator">:</span> <span class="token number">273</span><span class="token punctuation">,</span>
                <span class="token property">&quot;locked&quot;</span><span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>
                <span class="token property">&quot;refs&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
                <span class="token property">&quot;isRead&quot;</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
                <span class="token property">&quot;created&quot;</span><span class="token operator">:</span> <span class="token string">&quot;2021-03-01T08:15:25.1139057Z&quot;</span><span class="token punctuation">,</span>
                <span class="token property">&quot;createdBy&quot;</span><span class="token operator">:</span> <span class="token string">&quot;86257&quot;</span><span class="token punctuation">,</span>
                <span class="token property">&quot;lastChanged&quot;</span><span class="token operator">:</span> <span class="token string">&quot;2021-03-01T08:15:25.1139057Z&quot;</span><span class="token punctuation">,</span>
                <span class="token property">&quot;lastChangedBy&quot;</span><span class="token operator">:</span> <span class="token string">&quot;86257&quot;</span>
            <span class="token punctuation">}</span>
        <span class="token punctuation">]</span>
        <span class="token comment">// the rest of the object is snipped for documentation purposes</span>
    <span class="token punctuation">}</span></code></pre></div>
<p>The rest of the requests in the sequence for the submission use
<code class="language-text">instanceUrl</code>. This can be found from the response at the
creation of the instance. See the example of the response above.</p>
<p><code class="language-text">instanceUrl</code> could either be picked from
<code class="language-text">selflinks.apps</code> or derived from
<code class="language-text">instanceApiUrl/{partyId}/{instanceGuid}</code>, where
<code class="language-text">{partyId}</code> and <code class="language-text">{instanceGuid}</code> can be
found in the <code class="language-text">id</code> field in the returned instance.</p>
<p>Example instanceUrl:
<code class="language-text">https://skd.apps.tt02.altinn.no/skd/mva-melding-innsending-etm2/instances/3949387/abba061g-3abb-4bab-bab8-c9abbaf1ed50/data/28abba46-dea8-4ab7-ba90-433abba906df</code></p>
<h3 id="error-messages" style="position:relative"><a href="#error-messages" aria-label="error messages permalink" class="anchor before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Error messages</h3>
<p><em>Response 400 - Bad Request:</em> <br/></p>
<p><em>Response 403 - Forbidden:</em> <br/>
Example Value:</p>
<div class="gatsby-highlight" data-language="json"><pre class="language-json"><code class="language-json"><span class="token punctuation">{</span><span class="token property">&quot;type&quot;</span><span class="token operator">:</span><span class="token string">&quot;https://tools.ietf.org/html/rfc7231#section-6.5.3&quot;</span><span class="token punctuation">,</span><span class="token property">&quot;title&quot;</span><span class="token operator">:</span><span class="token string">&quot;Forbidden&quot;</span><span class="token punctuation">,</span><span class="token property">&quot;status&quot;</span><span class="token operator">:</span><span class="token number">403</span><span class="token punctuation">,</span><span class="token property">&quot;traceId&quot;</span><span class="token operator">:</span><span class="token string">&quot;00-44eab35cb9ca2049b24de316f380a774-a724e045b09dfc44-00&quot;</span><span class="token punctuation">}</span></code></pre></div>
<p>This error message could occur if you try to create an instance where the logged-in user does not have the necessary rights to the organisation number defined in the request header.
This can also occur if the user does not have the correct roles necessary for creating an instance.</p>
<p><em>Response 404 - Not Found:</em> <br/>
Example Value:</p>
<div class="gatsby-highlight" data-language="json"><pre class="language-json"><code class="language-json"><span class="token string">&quot;Cannot lookup party: Failed to lookup party by organisationNumber: 123456789. The exception was: 404 - Not Found - &quot;</span></code></pre></div>
<p>This error message can occur when you set an invalid organisation number in the request header.</p>
<h2 id="upload-vat-return-submission" style="position:relative"><a href="#upload-vat-return-submission" aria-label="upload vat return submission permalink" class="anchor before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Upload VAT return submission</h2>
<p>MvaMeldingInnsending is a data type for metadata for the VAT return submission.
The object to populate is created during the instantiation and can
be found in the instance object&#x27;s <code class="language-text">data</code> list and has
<code class="language-text">&quot;dataType&quot;: &quot;no.skatteetaten.fastsetting.avgift.mva.mvameldinginnsending.v0.1&quot;</code>.
Since this object already exists when uploading VAT return submission,
PUT is used to update the data element.</p>
<p>The model for VAT return submission can be found here:
<a href="https://github.com/Skatteetaten/mva-meldingen/blob/master/docs/informasjonsmodell_filer/xsd/no.skatteetaten.fastsetting.avgift.mvamvameldinginnsending.v1.0.xsd" target="_blank">no.skatteetaten.fastsetting.avgift.mva.mvameldinginnsending.v1.0.xsd</a></p>
<p>Url to MvaMeldingInnsending has this structure:</p>
<div class="gatsby-highlight" data-language="text"><pre class="language-text"><code class="language-text">vatReturnSubmissionUrl = {instanceApiUrl}/{partyId}/{instanceGuid}/data/{dataGuid}</code></pre></div>
<p>where <code class="language-text">{dataGuid}</code> is the ID of the data object of the
instance.</p>
<p>There are 2 ways to derive the <code class="language-text">vatReturnSubmissionUrl</code> and
both use the instance&#x27;s data list element that has the data type
<code class="language-text">no.skatteetaten.fastsetting.avgift.mva.mvameldinginnsending.v0.1</code>.
When the instance is created, there is only one element in the list.</p>
<p>From the data element you can either:</p>
<ul>
<li>
<p>merge <code class="language-text">{dataGuid}</code> that exists as value in
<code class="language-text">&quot;id&quot;</code> in the structure above,</p>
<ul>
<li>alternatively use <code class="language-text">{instanceApiUrl}/data/{dataGuid}</code></li>
</ul>
</li>
<li>
<p>or use the <code class="language-text">selfLinks.apps</code> value
<code class="language-text">{instanceDataAppUrl}</code>, as shown in the instance
response in the previous step.</p>
<ul>
<li><code class="language-text">vatReturnSubmissionUrl = {instanceDataAppUrl}</code></li>
</ul>
</li>
</ul>
<p>You upload VAT return submission by using the data api for the instance:</p>
<div class="gatsby-highlight" data-language="text"><pre class="language-text"><code class="language-text">PUT {vatReturnSubmissionUrl}
    HEADERS:
        &quot;Authorization&quot;: &quot;Bearer &quot; + &quot;{altinnToken}&quot;
        &quot;content-type&quot;: &quot;application/xml&quot;</code></pre></div>
<div class="gatsby-highlight" data-language="xml"><pre class="language-xml"><code class="language-xml">Content:
    <span class="token prolog">&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;</span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>mvameldinginnsending</span><span class="token punctuation">&gt;</span></span>
        ...
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>mvameldinginnsending</span><span class="token punctuation">&gt;</span></span></code></pre></div>
<p>Example of xml file for VAT return submission can be found under <a href="https://github.com/Skatteetaten/mva-meldingen/tree/master/docs/informasjonsmodell_filer/example_files/konvolutt">https://github.com/Skatteetaten/mva-meldingen/tree/master/docs/informasjonsmodell_filer/example_files/konvolutt</a>.</p>
<h3 id="error-messages-1" style="position:relative"><a href="#error-messages-1" aria-label="error messages 1 permalink" class="anchor before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Error Messages</h3>
<p><em>Response 403 - Forbidden:</em> <br/>
If the logged-in user attempt to upload a file to the instance, but the person does not have the correct roles, you will get the response code 403 in return.</p>
<h2 id="upload-vat-return" style="position:relative"><a href="#upload-vat-return" aria-label="upload vat return permalink" class="anchor before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Upload VAT return</h2>
<p>The model is found here:<a href="https://github.com/Skatteetaten/mva-meldingen/blob/master/docs/informasjonsmodell_filer/xsd/no.skatteetaten.fastsetting.avgift.mva.skattemeldingformerverdiavgift.v1.0.xsd">https://github.com/Skatteetaten/mva-meldingen/blob/master/docs/informasjonsmodell_filer/xsd/no.skatteetaten.fastsetting.avgift.mva.skattemeldingformerverdiavgift.v1.0.xsd</a></p>
<p>The URL for uploading the VAT return has this structure:</p>
<h3 id="error-messages-2" style="position:relative"><a href="#error-messages-2" aria-label="error messages 2 permalink" class="anchor before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Error Messages</h3>
<p><em>Response 403 - Forbidden:</em> <br/>
If the logged-in user attempt to upload a file to the instance, but the person does not have the correct roles, you will get the response code 403 in return.</p>
<div class="gatsby-highlight" data-language="text"><pre class="language-text"><code class="language-text">{instanceUrl}/data?datatype=mvamelding</code></pre></div>
<p>The VAT return is uploaded with the following request to the instance data api:</p>
<div class="gatsby-highlight" data-language="json"><pre class="language-json"><code class="language-json">POST <span class="token punctuation">{</span>instanceUrl<span class="token punctuation">}</span>/data?datatype=mvamelding
    HEADERS<span class="token operator">:</span>
        <span class="token property">&quot;Authorization&quot;</span><span class="token operator">:</span> <span class="token string">&quot;Bearer &quot;</span> + <span class="token string">&quot;{altinnToken}&quot;</span>
        <span class="token property">&quot;content-type&quot;</span><span class="token operator">:</span> <span class="token string">&quot;text/xml&quot;</span>
        <span class="token property">&quot;Content-Disposition&quot;</span><span class="token operator">:</span> <span class="token string">&quot;attachment; filename=mvaMelding.xml&quot;</span></code></pre></div>
<div class="gatsby-highlight" data-language="xml"><pre class="language-xml"><code class="language-xml">Content:
    <span class="token prolog">&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;</span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>mvaMeldingDto</span> <span class="token attr-name">xmlns</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>no:skatteetaten:fastsetting:avgift:mva:skattemeldingformerverdiavgift:v1.0<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
        ...
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>mvaMeldingDto</span><span class="token punctuation">&gt;</span></span></code></pre></div>
<p>This call will upload the xml document to the instance.</p>
<h2 id="upload-attachments" style="position:relative"><a href="#upload-attachments" aria-label="upload attachments permalink" class="anchor before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Upload Attachments</h2>
<p>It is possible to upload from 0 to 57 attachments, with an individual
size of 25MB.</p>
<p>Url for uploading attachments has this structure:</p>
<div class="gatsby-highlight" data-language="text"><pre class="language-text"><code class="language-text">{instanceUrl}/data?datatype=binaerVedlegg</code></pre></div>
<p>The following content types are allowed for attachments:</p>
<ul>
<li>text/xml</li>
<li>application/pdf</li>
<li>application/vnd.oasis.opendocument.formula</li>
<li>application/vnd.oasis.opendocument.text</li>
<li>application/vnd.oasis.opendocument.spreadsheet</li>
<li>application/vnd.oasis.opendocument.presentation</li>
<li>application/vnd.oasis.opendocument.graphics</li>
<li>application/vnd.openxmlformats-officedocument.wordprocessingml.document</li>
<li>application/vnd.openxmlformats-officedocument.spreadsheetml.sheet</li>
<li>application/vnd.openxmlformats-officedocument.presentationml.presentation</li>
<li>application/msword</li>
<li>application/vnd.ms-excel</li>
<li>application/vnd.ms-powerpoint</li>
<li>image/jpeg</li>
<li>image/png</li>
</ul>
<p>Attachments are uploaded with the following request to the instance data api:</p>
<div class="gatsby-highlight" data-language="json"><pre class="language-json"><code class="language-json">POST <span class="token punctuation">{</span>instanceUrl<span class="token punctuation">}</span>/data?datatype=binaerVedlegg
    HEADERS<span class="token operator">:</span>
        <span class="token property">&quot;Authorization&quot;</span><span class="token operator">:</span> <span class="token string">&quot;Bearer &quot;</span> + <span class="token string">&quot;{altinnToken}&quot;</span>
        <span class="token property">&quot;content-type&quot;</span><span class="token operator">:</span> <span class="token string">&quot;application/pdf&quot;</span>
        <span class="token property">&quot;Content-Disposition&quot;</span><span class="token operator">:</span> <span class="token string">&quot;attachment; filename=merknaderTilMvaMeldingen.pdf&quot;</span>
    Content<span class="token operator">:</span>
    <span class="token punctuation">{</span>pdf-attachment in binary format<span class="token punctuation">}</span></code></pre></div>
<p>This request will upload the pdf document to the instance.</p>
<p>Remember that <code class="language-text">content-type</code> should be appropriate for
the attachment to be uploaded and that the file name in the
<code class="language-text">Content-Disposition</code> header should be appropriate
and unique. This is the file name Skatteetaten will refer to
for the attachment.</p>
<h3 id="error-messages-3" style="position:relative"><a href="#error-messages-3" aria-label="error messages 3 permalink" class="anchor before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Error Messages</h3>
<p><em>Response 403 - Forbidden:</em> <br/>
If the logged-in user attempt to upload a file to the instance, but the person does not have the correct roles, you will get the response code 403 in return.</p>
<h2 id="complete-data-filling" style="position:relative"><a href="#complete-data-filling" aria-label="complete data filling permalink" class="anchor before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Complete Data Filling</h2>
<p>This step uses the process api for the instance and the instance will go to the next step for VAT return filing in the application process.</p>
<p>To complete the data filling, the following call is made to the process api for the instance:</p>
<div class="gatsby-highlight" data-language="json"><pre class="language-json"><code class="language-json">PUT <span class="token punctuation">{</span>instanceUrl<span class="token punctuation">}</span>/process/next
    HEADERS<span class="token operator">:</span>
        <span class="token property">&quot;Authorization&quot;</span><span class="token operator">:</span> <span class="token string">&quot;Bearer &quot;</span> + <span class="token string">&quot;{altinnToken}&quot;</span>
        <span class="token property">&quot;content-type&quot;</span><span class="token operator">:</span> <span class="token string">&quot;application/json&quot;</span></code></pre></div>
<p>The submission will now be in the confirmation step.</p>
<h3 id="error-messages-4" style="position:relative"><a href="#error-messages-4" aria-label="error messages 4 permalink" class="anchor before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Error Messages</h3>
<p><em>Response 403 - Forbidden:</em> <br/>
If the logged-in user attempt to update to the next task in the instance process, but does not have the correct roles, you will get the response code 403 in return.</p>
<p><em>Response 409 - Conflict:</em> <br/></p>
<div class="gatsby-highlight" data-language="text"><pre class="language-text"><code class="language-text">&quot;Valideringsfeil: Organisasjonsnummeret i instansen er forskjellig fra organisasjonsnummeret i MvaMeldingInnsending (\&quot;konvolutt\&quot;)&quot;</code></pre></div>
<p>You will get this error message if the organisation number used when creating the instance is different from the organisation number defined in vat-return submission.</p>
<div class="gatsby-highlight" data-language="text"><pre class="language-text"><code class="language-text">&quot;Valideringsfeil: Organisasjonsnummeret i MvaMeldingInnsending (\&quot;konvolutt\&quot;) er forskjellig fra organisasjonsnummeret i {filnavn}&quot;</code></pre></div>
<p>If the list of attachments defined in at-return submission is different from the attachments uploaded to the instance, you will get this error message.</p>
<div class="gatsby-highlight" data-language="text"><pre class="language-text"><code class="language-text">&quot;Valideringsfeil: Meldingskategorien i MvaMeldingInnsending (\&quot;konvolutt\&quot;) er forsjellig fra Meldingskategorien i {filnavn}&quot;</code></pre></div>
<p>This error message will occur if the value of the field message category in vat-return submission is different from the message category in the vat-return.</p>
<div class="gatsby-highlight" data-language="text"><pre class="language-text"><code class="language-text">&quot;Valideringsfeil: skattleggingsperiode er påkrevd i MvaMeldingInnsending. Validation error: skattleggingsperiode is required in MvaMeldingInnsending&quot;</code></pre></div>
<p>This error message will occur if the value of the field skattleggingsperiode is null.</p>
<div class="gatsby-highlight" data-language="text"><pre class="language-text"><code class="language-text">&quot;Valideringsfeil: skattleggingsperiode må være utfylt. Validation error: skattleggingsperiode must be populated&quot;</code></pre></div>
<p>This error message will occur if the value of the field skattleggingsperiode is empty.</p>
<div class="gatsby-highlight" data-language="text"><pre class="language-text"><code class="language-text">&quot;Valideringsfeil: instansstatus er påkrevd i MvaMeldingInnsending. Validation error: instansstatus is required in MvaMeldingInnsending&quot;</code></pre></div>
<p>This error message will occur if the value of the field instansstatus is null.</p>
<div class="gatsby-highlight" data-language="text"><pre class="language-text"><code class="language-text">&quot;Valideringsfeil: filnavnene i innsendingen må være unike. Validation error: file names in the submission must be unique.&quot;</code></pre></div>
<p>This error message will occur if two or more uploaded files have the same name.</p>
<p><strong>Validation Service</strong></p>
<div class="gatsby-highlight" data-language="text"><pre class="language-text"><code class="language-text">&quot;Valideringsfeil: Ugyldig mva-melding&quot;</code></pre></div>
<p>The app will also call the validation service during the completion of the data filling step. If the vat-return is invalid,
it will return a 409 error message, and the validation result in xml as content.</p>
<p>Example value:</p>
<div class="gatsby-highlight" data-language="xml"><pre class="language-xml"><code class="language-xml"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>valideringsresultat</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>status</span><span class="token punctuation">&gt;</span></span>UGYLDIG_SKATTEMELDING<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>status</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>valideringsfeil</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>stiTilFeil</span><span class="token punctuation">&gt;</span></span>//innsending<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>stiTilFeil</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>valideringsDetaljer</span><span class="token punctuation">&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>feilmelding</span><span class="token punctuation">&gt;</span></span>Mva meldingen må være på gyldig format og passere XML skjema valideringen<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>feilmelding</span><span class="token punctuation">&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>alvorlighetsgrad</span><span class="token punctuation">&gt;</span></span>UGYLDIG_SKATTEMELDING<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>alvorlighetsgrad</span><span class="token punctuation">&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>avvikKode</span><span class="token punctuation">&gt;</span></span>MvaMeldingsinnhold_Xml_SkjemaValideringsfeil<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>avvikKode</span><span class="token punctuation">&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>informasjon</span><span class="token punctuation">&gt;</span></span>cvc-complex-type.2.4.b: The content of element &#x27;mvaMeldingDto&#x27; is not complete. One of
                &#x27;{&quot;no:skatteetaten:fastsetting:avgift:mva:skattemeldingformerverdiavgift:v1.0&quot;:innsending}&#x27; is expected.
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>informasjon</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>valideringsDetaljer</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>valideringsfeil</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>valideringsresultat</span><span class="token punctuation">&gt;</span></span></code></pre></div>
<p>You can find an explanation for all the validation rules for respectively <a href="/mva-meldingen/mvameldingen_eng/forretningsregler/">VAT report</a> and <a href="/mva-meldingen/kompensasjon_eng/forretningsregler/">Compensation report VAT</a>.</p>
<p><strong>Validation of MvaMeldingInnsending against the xsd model</strong>
<a href="https://github.com/Skatteetaten/mva-meldingen/blob/master/docs/informasjonsmodell_filer/xsd/no.skatteetaten.fastsetting.avgift.mva.skattemeldingformerverdiavgift.v1.0.xsd" target="_blank">no.skatteetaten.fastsetting.avgift.mva.skattemeldingformerverdiavgift.v1.0.xsd</a></p>
<p>Example:</p>
<div class="gatsby-highlight" data-language="text"><pre class="language-text"><code class="language-text">Valideringsfeil / Validation error:
The &#x27;no:skatteetaten:fastsetting:avgift:mva:mvameldinginnsending:v1.0:skattleggingsperiodeToMaaneder&#x27; element is invalid - The value &#x27;juli-september&#x27; is invalid according to its datatype &#x27;no:skatteetaten:fastsetting:avgift:mva:mvameldinginnsending:v1.0:SkattleggingsperiodeToMaaneder&#x27; - The Enumeration constraint failed.
The element &#x27;mvaMeldingInnsending&#x27; in namespace &#x27;no:skatteetaten:fastsetting:avgift:mva:mvameldinginnsending:v1.0&#x27; has invalid child element &#x27;opprettingstidspunkt&#x27; in namespace &#x27;no:skatteetaten:fastsetting:avgift:mva:mvameldinginnsending:v1.0&#x27;. List of possible elements expected: &#x27;opprettetAv&#x27; in namespace &#x27;no:skatteetaten:fastsetting:avgift:mva:mvameldinginnsending:v1.0&#x27;.</code></pre></div>
<h2 id="complete-vat-return-submission" style="position:relative"><a href="#complete-vat-return-submission" aria-label="complete vat return submission permalink" class="anchor before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Complete vat-return submission</h2>
<p>This step uses the process-api for the instance, and it will end the confirmation step for the submission.
It will also update the instance to the next step in the application, the feedback step.</p>
<p>To complete the submission, the following call is used towards the process-api on the instance:</p>
<div class="gatsby-highlight" data-language="json"><pre class="language-json"><code class="language-json">PUT <span class="token punctuation">{</span>instansUrl<span class="token punctuation">}</span>/process/next
HEADERS<span class="token operator">:</span>
    <span class="token property">&quot;Authorization&quot;</span><span class="token operator">:</span> <span class="token string">&quot;Bearer &quot;</span> + <span class="token string">&quot;{altinnToken}&quot;</span>
    <span class="token property">&quot;content-type&quot;</span><span class="token operator">:</span> <span class="token string">&quot;application/json&quot;</span></code></pre></div>
<p>The submission will now be in the feedback step.</p>
<h3 id="error-messages-5" style="position:relative"><a href="#error-messages-5" aria-label="error messages 5 permalink" class="anchor before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Error Messages</h3>
<p><em>Response 403 - Forbidden:</em> <br/>
If the logged-in user attempt to update to the next task in the instance process, but does not have the correct roles, you will get the response code 403 in return.</p>
<p><em>Response 409 - Conflict:</em> <br/></p>
<div class="gatsby-highlight" data-language="text"><pre class="language-text"><code class="language-text">&quot;Valideringsfeil: filnavnene i innsendingen må være unike. Validation error: file names in the submission must be unique.&quot;</code></pre></div>
<p>This error message will occur if two or more uploaded files have the same name. Unlikely during this step.</p>
<h3 id="payment-information-available" style="position:relative"><a href="#payment-information-available" aria-label="payment information available permalink" class="anchor before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Payment information available</h3>
<p>When the submission is completed and the instance is in the feedback step, the payment information will be available for download. It can be found by downloading the instance and downloading the file <code class="language-text">betalingsinformasjon.xml</code>, and has the data type <code class="language-text">payment information</code>. See <a href="#feedback-files">feedback files</a>.</p>
<h2 id="retrieve-feedback" style="position:relative"><a href="#retrieve-feedback" aria-label="retrieve feedback permalink" class="anchor before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Retrieve feedback</h2>
<p>The Tax Administration has created 2 api-endpoints to simplify the development of this step:</p>
<ul>
<li>An endpoint, which returns a status on whether the Tax Administration has provided feedback.</li>
<li>A synchronous endpoint, which returns the instance when the Tax Administration has processed the vat-return, and provided feedback.</li>
</ul>
<p>The following sequence diagram shows how to identify if the Tax Administration has provided feedback to a given instance,
and how to retrieve it.
<img src="/mva-meldingen/b82a685da7977dfef5105ba8c054b155/Get-Feedback.png"/></p>
<p>You can get the status of the feedback by performing a request towards the feedback-api for the instance.</p>
<div class="gatsby-highlight" data-language="json"><pre class="language-json"><code class="language-json">GET <span class="token punctuation">{</span>instansUrl<span class="token punctuation">}</span>/<span class="token punctuation">{</span>partyId<span class="token punctuation">}</span>/<span class="token punctuation">{</span>instanceGuid<span class="token punctuation">}</span>/feedback/status
HEADERS<span class="token operator">:</span>
    <span class="token property">&quot;Authorization&quot;</span><span class="token operator">:</span> <span class="token string">&quot;Bearer &quot;</span> + <span class="token string">&quot;{altinnToken}&quot;</span>
    <span class="token property">&quot;accept&quot;</span><span class="token operator">:</span> <span class="token string">&quot;application/json&quot;</span></code></pre></div>
<p>If the call is successful it will return a status code 200, and a json object:</p>
<div class="gatsby-highlight" data-language="json"><pre class="language-json"><code class="language-json"><span class="token punctuation">{</span>
  <span class="token property">&quot;isFeedbackProvided&quot;</span><span class="token operator">:</span>	boolean
<span class="token punctuation">}</span></code></pre></div>
<p>Where <code class="language-text">isFeedbackProvided</code> returns as <code class="language-text">true</code> if feedback has been given, otherwise it will return <code class="language-text">false</code></p>
<p>To retrieve the instance where the feedback has been provided, use a call towards the synchronous API-endpoint:</p>
<div class="gatsby-highlight" data-language="json"><pre class="language-json"><code class="language-json">GET <span class="token punctuation">{</span>instansUrl<span class="token punctuation">}</span>/<span class="token punctuation">{</span>partyId<span class="token punctuation">}</span>/<span class="token punctuation">{</span>instanceGuid<span class="token punctuation">}</span>/feedback
HEADERS<span class="token operator">:</span>
    <span class="token property">&quot;Authorization&quot;</span><span class="token operator">:</span> <span class="token string">&quot;Bearer &quot;</span> + <span class="token string">&quot;{altinnToken}&quot;</span>
    <span class="token property">&quot;accept&quot;</span><span class="token operator">:</span> <span class="token string">&quot;application/json&quot;</span></code></pre></div>
<p>This endpoint will return the instance when the Tax Administration has given feedback,
and it will contain data elements for all the feedback files from the Tax Administration.</p>
<p><strong>Note: Latter mentioned endpoint should only be used in the following situations:</strong></p>
<ul>
<li>End user is waiting on feedback.</li>
<li>After the status-endpoint has returned <code class="language-text">isFeedbackProvided : true</code></li>
</ul>
<h3 id="error-messages-6" style="position:relative"><a href="#error-messages-6" aria-label="error messages 6 permalink" class="anchor before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Error Messages</h3>
<p><em>Response 400 - Bad Request:</em> <br/>
<em>Response 403 - Forbidden:</em> <br/>
This error message will occur if the logged-in user attempt to retrieve the instance, but the person does not have the correct roles.</p>
<p><em>Response 404 - Not Found:</em> <br/></p>
<h3 id="feedback-files" style="position:relative"><a href="#feedback-files" aria-label="feedback files permalink" class="anchor before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Feedback files</h3>
<p>Once the Tax Administration has given feedback, the files for the feedback can be downloaded from the instance.</p>
<p>Payment information will be available when the submission is completed, it is being produced when <a href="#complete-vat-return-submission">completing the vat return submission</a>.</p>
<p>Example of feedback files given for a submission on the 17.06.2021 <a href="https://github.com/Skatteetaten/mva-meldingen/tree/master/docs/informasjonsmodell_filer/example_files/feedback/exampleSuccessfulFeedback17062021" target="_ blank ">are located here </a>. These files were downloaded from an instance where the Tax Authorities had given feedback.</p>
<p>The files that can be downloaded will have <code class="language-text">dataType</code>:</p>
<ul>
<li>betalingsinformasjon</li>
<li>valideringsresultat</li>
<li>kvittering</li>
</ul>
<p>and download URLs are found in the instance object <code class="language-text">data</code> elements returned from the feedback or instance api as shown below (irrelevant json removed).</p>
<p>Given a <code class="language-text">data</code> element, the file can be retrieved using:</p>
<div class="gatsby-highlight" data-language="json"><pre class="language-json"><code class="language-json">GET <span class="token punctuation">{</span>selfLinks.apps<span class="token punctuation">}</span>
HEADERS<span class="token operator">:</span>
    <span class="token property">&quot;Authorization&quot;</span><span class="token operator">:</span> <span class="token string">&quot;Bearer&quot;</span> + <span class="token string">&quot;{altinnToken}&quot;</span></code></pre></div>
<p>where <code class="language-text">selfLinks.apps</code> is retrieved from the list of data-elements on the instance as shown here:</p>
<div class="gatsby-highlight" data-language="json"><pre class="language-json"><code class="language-json">  <span class="token property">&quot;data&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span>
    <span class="token punctuation">{</span>
      <span class="token property">&quot;id&quot;</span><span class="token operator">:</span> <span class="token string">&quot;82c96a52-ad0b-428f-8005-7f214daf367e&quot;</span><span class="token punctuation">,</span>
      <span class="token property">&quot;instanceGuid&quot;</span><span class="token operator">:</span> <span class="token string">&quot;55604b08-1690-4a8d-bf6b-95c11dc40c58&quot;</span><span class="token punctuation">,</span>
      <span class="token property">&quot;dataType&quot;</span><span class="token operator">:</span> <span class="token string">&quot;valideringsresultat&quot;</span><span class="token punctuation">,</span>
      <span class="token property">&quot;filename&quot;</span><span class="token operator">:</span> <span class="token string">&quot;valideringsresultat.xml&quot;</span><span class="token punctuation">,</span>
      <span class="token property">&quot;contentType&quot;</span><span class="token operator">:</span> <span class="token string">&quot;text/xml&quot;</span><span class="token punctuation">,</span>
      <span class="token property">&quot;selfLinks&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
        <span class="token property">&quot;apps&quot;</span><span class="token operator">:</span> <span class="token string">&quot;https://skd.apps.tt02.altinn.no/skd/mva-melding-innsending-sit/instances/50267437/55604b08-1690-4a8d-bf6b-95c11dc40c58/data/82c96a52-ad0b-428f-8005-7f214daf367e&quot;</span><span class="token punctuation">,</span>
        <span class="token property">&quot;platform&quot;</span><span class="token operator">:</span> <span class="token string">&quot;https://platform.tt02.altinn.no/storage/api/v1/instances/50267437/55604b08-1690-4a8d-bf6b-95c11dc40c58/data/82c96a52-ad0b-428f-8005-7f214daf367e&quot;</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">{</span>
      <span class="token property">&quot;id&quot;</span><span class="token operator">:</span> <span class="token string">&quot;726a315f-7e5e-4514-8ef1-5eda624407d4&quot;</span><span class="token punctuation">,</span>
      <span class="token property">&quot;instanceGuid&quot;</span><span class="token operator">:</span> <span class="token string">&quot;55604b08-1690-4a8d-bf6b-95c11dc40c58&quot;</span><span class="token punctuation">,</span>
      <span class="token property">&quot;dataType&quot;</span><span class="token operator">:</span> <span class="token string">&quot;betalingsinformasjon&quot;</span><span class="token punctuation">,</span>
      <span class="token property">&quot;filename&quot;</span><span class="token operator">:</span> <span class="token string">&quot;betalingsinformasjon.xml&quot;</span><span class="token punctuation">,</span>
      <span class="token property">&quot;contentType&quot;</span><span class="token operator">:</span> <span class="token string">&quot;text/xml&quot;</span><span class="token punctuation">,</span>
      <span class="token property">&quot;selfLinks&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
        <span class="token property">&quot;apps&quot;</span><span class="token operator">:</span> <span class="token string">&quot;https://skd.apps.tt02.altinn.no/skd/mva-melding-innsending-sit/instances/50267437/55604b08-1690-4a8d-bf6b-95c11dc40c58/data/726a315f-7e5e-4514-8ef1-5eda624407d4&quot;</span><span class="token punctuation">,</span>
        <span class="token property">&quot;platform&quot;</span><span class="token operator">:</span> <span class="token string">&quot;https://platform.tt02.altinn.no/storage/api/v1/instances/50267437/55604b08-1690-4a8d-bf6b-95c11dc40c58/data/726a315f-7e5e-4514-8ef1-5eda624407d4&quot;</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">{</span>
      <span class="token property">&quot;id&quot;</span><span class="token operator">:</span> <span class="token string">&quot;cbce850a-a887-4598-aea4-710ea9ffdc7d&quot;</span><span class="token punctuation">,</span>
      <span class="token property">&quot;instanceGuid&quot;</span><span class="token operator">:</span> <span class="token string">&quot;55604b08-1690-4a8d-bf6b-95c11dc40c58&quot;</span><span class="token punctuation">,</span>
      <span class="token property">&quot;dataType&quot;</span><span class="token operator">:</span> <span class="token string">&quot;kvittering&quot;</span><span class="token punctuation">,</span>
      <span class="token property">&quot;filename&quot;</span><span class="token operator">:</span> <span class="token string">&quot;kvittering.pdf&quot;</span><span class="token punctuation">,</span>
      <span class="token property">&quot;contentType&quot;</span><span class="token operator">:</span> <span class="token string">&quot;application/pdf&quot;</span><span class="token punctuation">,</span>
      <span class="token property">&quot;selfLinks&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
        <span class="token property">&quot;apps&quot;</span><span class="token operator">:</span> <span class="token string">&quot;https://skd.apps.tt02.altinn.no/skd/mva-melding-innsending-sit/instances/50267437/55604b08-1690-4a8d-bf6b-95c11dc40c58/data/cbce850a-a887-4598-aea4-710ea9ffdc7d&quot;</span><span class="token punctuation">,</span>
        <span class="token property">&quot;platform&quot;</span><span class="token operator">:</span> <span class="token string">&quot;https://platform.tt02.altinn.no/storage/api/v1/instances/50267437/55604b08-1690-4a8d-bf6b-95c11dc40c58/data/cbce850a-a887-4598-aea4-710ea9ffdc7d&quot;</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">]</span></code></pre></div></div></div></div></div></div></div><div id="gatsby-announcer" style="position:absolute;top:0;width:1px;height:1px;padding:0;overflow:hidden;clip:rect(0, 0, 0, 0);white-space:nowrap;border:0" aria-live="assertive" aria-atomic="true"></div></div><div><div class="footerDecorContainer-51" role="contentinfo"><svg focusable="false" class="footer-decoration-svg" xmlns="http://www.w3.org/2000/svg" width="100%" height="100%" preserveAspectRatio="none" viewBox="0 0 1440 100" version="1.1"><desc></desc><defs></defs><g stroke="none" stroke-width="0" fill="none" fill-rule="evenodd"><g id="bakgrunn"><polygon fill="#C0797E" points="0 99.6400524 1440 99.6400524 1440 69.2255838 0 17.1793194"></polygon><path d="M1440,98 L1440,629 L0,629 L0,98 L1440,0 L1440,98 Z" fill="#6F2C3F"></path></g></g></svg></div><footer class="footerWrapper-49"><div class="footerContent-50"><div class="ske-Grid-42 "><div class="ske-Grid-row-45 "><div class="ske-Grid-col-52 "><div class="ms-Image root-54" style="height:74px"><img src="/mva-meldingen/static/ske-logo-a0e8bc5ad23f41f04a6c4e5655a5174b.svg" alt="Skatteetaten logo" class="ms-Image-image ms-Image-image--portrait is-notLoaded is-fadeIn image-55"/></div></div><div class="ske-Grid-col-56 "><div class="footer-module--footer-links--3jYEG"><div><a href="https://www.skatteetaten.no" target="blank" class="footer-module--footer-link--xomeD" style="margin:10px 0">skatteetaten.no</a></div></div></div></div></div></div></footer></div></div></div><script id="gatsby-script-loader">/*<![CDATA[*/window.pagePath="/english/api/";/*]]>*/</script><script id="gatsby-chunk-mapping">/*<![CDATA[*/window.___chunkMapping={"polyfill":["/polyfill-f3d84b4c8222d4b9c5d2.js"],"app":["/app-659d2f3b69be747e7115.js"],"component---src-pages-404-js":["/component---src-pages-404-js-e4eccf023c99b88d51c9.js"],"component---src-pages-documentation-js":["/component---src-pages-documentation-js-f3e305e406ee04371951.js"],"component---src-pages-english-js":["/component---src-pages-english-js-1d25a93fa93ed270733f.js"],"component---src-pages-index-js":["/component---src-pages-index-js-6785359cefe453d8ac97.js"],"component---src-pages-kompensasjon-eng-js":["/component---src-pages-kompensasjon-eng-js-4a858f67da9d3a0a860e.js"],"component---src-pages-kompensasjon-js":["/component---src-pages-kompensasjon-js-11d5721c4297a928f8cf.js"],"component---src-pages-mvameldingen-eng-js":["/component---src-pages-mvameldingen-eng-js-8f3b70d2c39d790dad01.js"],"component---src-pages-mvameldingen-js":["/component---src-pages-mvameldingen-js-2bb060655b56cb2f4051.js"],"component---src-pages-omvendt-eng-js":["/component---src-pages-omvendt-eng-js-fbb6f88775bb22876bcd.js"],"component---src-pages-omvendt-js":["/component---src-pages-omvendt-js-b2140c8c546e7432eb9e.js"],"component---src-templates-documentation-template-js":["/component---src-templates-documentation-template-js-0dc329877c77fa028cc9.js"]};/*]]>*/</script><script src="/mva-meldingen/polyfill-f3d84b4c8222d4b9c5d2.js" nomodule=""></script><script src="/mva-meldingen/component---src-templates-documentation-template-js-0dc329877c77fa028cc9.js" async=""></script><script src="/mva-meldingen/b6f0a20a63d6adab58b8c9afc6a4bb63a39e32a5-769e15cd0ca2a024a30d.js" async=""></script><script src="/mva-meldingen/styles-29147cbc04bbc833f6a0.js" async=""></script><script src="/mva-meldingen/app-659d2f3b69be747e7115.js" async=""></script><script src="/mva-meldingen/framework-bf85aa1381d60e2ab535.js" async=""></script><script src="/mva-meldingen/webpack-runtime-cb4adb9d734b46ee9d09.js" async=""></script></body></html>